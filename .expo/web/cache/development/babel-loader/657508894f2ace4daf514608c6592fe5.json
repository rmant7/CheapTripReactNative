{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { FontAwesome5, Fontisto } from \"@expo/vector-icons\";\nimport { generateColors } from \"../../scheme/colors\";\nimport { Context } from \"../../../App\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar colors = generateColors.colors;\nvar screenHeight = Dimensions.get(\"window\").height;\nvar ListBottomComponent = function ListBottomComponent(_ref) {\n  var bottom = _ref.bottom,\n    travelDataId = _ref.travelDataId;\n  var buyTicketHandler = function buyTicketHandler() {\n    console.log(\"Buy ticket\");\n  };\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    travelData = _useState2[0],\n    setTravelData = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    fromLocation = _useState4[0],\n    setFromLocation = _useState4[1];\n  var _useState5 = useState({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    toLocation = _useState6[0],\n    setToLocation = _useState6[1];\n  var _useState7 = useState(_jsx(_Fragment, {})),\n    _useState8 = _slicedToArray(_useState7, 2),\n    TransportationType = _useState8[0],\n    setTransportationType = _useState8[1];\n  var contextData = useContext(Context);\n  var getTravelDataById = function getTravelDataById(id) {\n    return contextData.travelData.find(function (data) {\n      return data.id == id;\n    });\n  };\n  var getLocationById = function getLocationById(id) {\n    return contextData.locations.find(function (loc) {\n      return loc.id == id;\n    });\n  };\n  useEffect(function () {\n    setTravelData(getTravelDataById(travelDataId));\n    if (travelData.transportation_type == 1) {\n      setTransportationType(_jsx(Fontisto, {\n        style: styles.logo,\n        name: \"plane\",\n        size: 24,\n        color: \"rgb(101,124,137)\"\n      }));\n    } else if (travelData.transportation_type == 2) {\n      setTransportationType(_jsx(FontAwesome5, {\n        style: styles.logo,\n        name: \"train\",\n        size: 24,\n        color: \"rgb(101,124,137)\"\n      }));\n    } else if (travelData.transportation_type == 3) {\n      setTransportationType(_jsx(FontAwesome5, {\n        style: styles.logo,\n        name: \"bus\",\n        size: 24,\n        color: \"rgb(101,124,137)\"\n      }));\n    }\n  }, [travelDataId]);\n  useEffect(function () {\n    setFromLocation(getLocationById(travelData.from));\n    setToLocation(getLocationById(travelData.to));\n  }, [travelData]);\n  return _jsxs(View, {\n    style: [styles.itemContainer, {\n      borderBottomLeftRadius: bottom ? 5 : 0,\n      borderBottomRightRadius: bottom ? 5 : 0\n    }],\n    children: [_jsxs(View, {\n      style: styles.directions,\n      children: [_jsx(Text, {\n        style: styles.boldText,\n        children: (fromLocation == null ? void 0 : fromLocation.name) + \" -> \" + (toLocation == null ? void 0 : toLocation.name)\n      }), _jsx(TransportationType, {})]\n    }), _jsxs(View, {\n      style: [styles.directions, {\n        marginTop: 10\n      }],\n      children: [_jsxs(Text, {\n        children: [\"Duration: \", Math.floor((travelData == null ? void 0 : travelData.time_in_minutes) / 60) + \"h\" + (travelData == null ? void 0 : travelData.time_in_minutes) % 60 + \"min\"]\n      }), _jsx(TouchableOpacity, {\n        onPress: buyTicketHandler,\n        children: _jsx(Text, {\n          style: styles.buyTicket,\n          children: \"Buy Ticket\"\n        })\n      }), _jsxs(Text, {\n        style: styles.price,\n        children: [\"\\u20AC\", travelData == null ? void 0 : travelData.euro_price]\n      })]\n    })]\n  });\n};\nexport default ListBottomComponent;\nvar styles = StyleSheet.create({\n  itemContainer: {\n    height: screenHeight / 10,\n    width: \"100%\",\n    backgroundColor: colors.surface,\n    borderTopWidth: 0,\n    borderWidth: 1,\n    borderColor: \"grey\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  dropped: {\n    flex: 1,\n    margin: 10\n  },\n  logo: {\n    marginHorizontal: 4,\n    paddingVertical: 5\n  },\n  directions: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n    padding: 5\n  },\n  boldText: {\n    fontWeight: \"bold\"\n  },\n  buyTicket: {\n    borderWidth: 1,\n    borderColor: colors.primary\n  },\n  price: {\n    color: colors.primary\n  }\n});","map":{"version":3,"names":["React","useContext","useEffect","useState","FontAwesome5","Fontisto","generateColors","Context","colors","screenHeight","Dimensions","get","height","ListBottomComponent","bottom","travelDataId","buyTicketHandler","console","log","travelData","setTravelData","fromLocation","setFromLocation","toLocation","setToLocation","TransportationType","setTransportationType","contextData","getTravelDataById","id","find","data","getLocationById","locations","loc","transportation_type","styles","logo","from","to","itemContainer","borderBottomLeftRadius","borderBottomRightRadius","directions","boldText","name","marginTop","Math","floor","time_in_minutes","buyTicket","price","euro_price","StyleSheet","create","width","backgroundColor","surface","borderTopWidth","borderWidth","borderColor","alignItems","justifyContent","dropped","flex","margin","marginHorizontal","paddingVertical","flexDirection","padding","fontWeight","primary","color"],"sources":["C:/Users/luche/Desktop/CheapTripReactNative/src/components/ListBottomComponent/ListBottomComponent.tsx"],"sourcesContent":["import { TouchableOpacity, StyleSheet, Text, View, Dimensions } from \"react-native\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { FontAwesome5, Fontisto, MaterialIcons } from \"@expo/vector-icons\";\r\n\r\nimport { generateColors } from \"../../scheme/colors\";\r\nimport { Context } from \"../../../App\";\r\nimport { Location } from \"../../screens/Home\";\r\n\r\nconst colors = generateColors.colors;\r\n\r\nconst screenHeight = Dimensions.get(\"window\").height;\r\n\r\ninterface TravelData {\r\n  id: number,\r\n  from: number,\r\n  to: number,\r\n  transportation_type: number,\r\n  euro_price: number,\r\n  time_in_minutes: number,\r\n}\r\n\r\ninterface Props {\r\n  bottom: boolean,\r\n  travelDataId: number,\r\n}\r\n\r\nconst ListBottomComponent: React.FC<Props> = ({ bottom, travelDataId }) => {\r\n\r\n  const buyTicketHandler = () => {\r\n    console.log(\"Buy ticket\");\r\n  }\r\n  const [travelData, setTravelData] = useState({} as TravelData)\r\n  const [fromLocation, setFromLocation] = useState({} as Location)\r\n  const [toLocation, setToLocation] = useState({} as Location)\r\n  const [TransportationType, setTransportationType] = useState(<></>)\r\n  const contextData: any = useContext(Context);\r\n\r\n  const getTravelDataById = (id: number) => contextData.travelData.find((data: TravelData) => data.id == id)\r\n  const getLocationById = (id: number) => contextData.locations.find((loc: Location) => loc.id == id)\r\n\r\n  useEffect(() => {\r\n\r\n    setTravelData(getTravelDataById(travelDataId))\r\n    \r\n   \r\n   \r\n    // <Image\r\n    //   style={styles.car}\r\n    //   source={require('../../../assets/image/asd.png')} />\r\n    if (travelData.transportation_type == 1) {\r\n      setTransportationType(<Fontisto style={styles.logo} name=\"plane\" size={24} color=\"rgb(101,124,137)\" />)\r\n    }\r\n    else if (travelData.transportation_type == 2) {\r\n      setTransportationType( <FontAwesome5 style={styles.logo} name=\"train\" size={24} color=\"rgb(101,124,137)\" />)\r\n    }\r\n    else if (travelData.transportation_type == 3) {\r\n      setTransportationType( <FontAwesome5 style={styles.logo} name=\"bus\" size={24} color=\"rgb(101,124,137)\" />)\r\n    }\r\n  }, [travelDataId])\r\n\r\n  // you cant put it in the same useEffect cause by the time getLocationById getting called travelData is undefined\r\n\r\n  useEffect(() => {\r\n    setFromLocation(getLocationById(travelData.from))\r\n    setToLocation(getLocationById(travelData.to))\r\n  }, [travelData])\r\n\r\n\r\n  return (\r\n    <View\r\n      style={[\r\n        styles.itemContainer,\r\n        {\r\n          borderBottomLeftRadius: bottom ? 5 : 0,\r\n          borderBottomRightRadius: bottom ? 5 : 0,\r\n        },\r\n      ]}\r\n    >\r\n\r\n      <View style={styles.directions}>\r\n        <Text style={styles.boldText}>{`${fromLocation?.name} -> ${toLocation?.name}`}</Text>\r\n        <TransportationType/>\r\n      </View>\r\n      <View style={[styles.directions, { marginTop: 10 }]}>\r\n        <Text>Duration: {`${Math.floor(travelData?.time_in_minutes / 60)}h${travelData?.time_in_minutes % 60}min`}</Text>\r\n        <TouchableOpacity onPress={buyTicketHandler}>\r\n          <Text style={styles.buyTicket}>Buy Ticket</Text>\r\n        </TouchableOpacity>\r\n        <Text style={styles.price}>â‚¬{travelData?.euro_price}</Text>\r\n      </View>\r\n    </View>\r\n\r\n  );\r\n};\r\n\r\nexport default ListBottomComponent;\r\n\r\nconst styles = StyleSheet.create({\r\n  itemContainer: {\r\n    height: screenHeight / 10,\r\n    width: \"100%\",\r\n    backgroundColor: colors.surface,\r\n    borderTopWidth: 0,\r\n    borderWidth: 1,\r\n    borderColor: \"grey\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  dropped: {\r\n    flex: 1,\r\n    margin: 10,\r\n  },\r\n  logo: {\r\n    marginHorizontal: 4,\r\n    paddingVertical: 5,\r\n  },\r\n  directions: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    width: \"100%\",\r\n    padding: 5,\r\n  },\r\n  boldText: {\r\n    fontWeight: \"bold\",\r\n  },\r\n  buyTicket: {\r\n    borderWidth: 1,\r\n    borderColor: colors.primary,\r\n  },\r\n  price: {\r\n    color: colors.primary,\r\n  }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}