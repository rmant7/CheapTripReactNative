{"ast":null,"code":"import*as React from'react';import Keyboard from\"react-native-web/dist/exports/Keyboard\";import TextInput from\"react-native-web/dist/exports/TextInput\";export default function useKeyboardManager(isEnabled){var previouslyFocusedTextInputRef=React.useRef(undefined);var startTimestampRef=React.useRef(0);var keyboardTimeoutRef=React.useRef();var clearKeyboardTimeout=React.useCallback(function(){if(keyboardTimeoutRef.current!==undefined){clearTimeout(keyboardTimeoutRef.current);keyboardTimeoutRef.current=undefined;}},[]);var onPageChangeStart=React.useCallback(function(){if(!isEnabled()){return;}clearKeyboardTimeout();var input=TextInput.State.currentlyFocusedInput();input===null||input===void 0?void 0:input.blur();previouslyFocusedTextInputRef.current=input;startTimestampRef.current=Date.now();},[clearKeyboardTimeout,isEnabled]);var onPageChangeConfirm=React.useCallback(function(force){if(!isEnabled()){return;}clearKeyboardTimeout();if(force){Keyboard.dismiss();}else{var input=previouslyFocusedTextInputRef.current;input===null||input===void 0?void 0:input.blur();}previouslyFocusedTextInputRef.current=undefined;},[clearKeyboardTimeout,isEnabled]);var onPageChangeCancel=React.useCallback(function(){if(!isEnabled()){return;}clearKeyboardTimeout();var input=previouslyFocusedTextInputRef.current;if(input){if(Date.now()-startTimestampRef.current<100){keyboardTimeoutRef.current=setTimeout(function(){input===null||input===void 0?void 0:input.focus();previouslyFocusedTextInputRef.current=undefined;},100);}else{input===null||input===void 0?void 0:input.focus();previouslyFocusedTextInputRef.current=undefined;}}},[clearKeyboardTimeout,isEnabled]);React.useEffect(function(){return function(){return clearKeyboardTimeout();};},[clearKeyboardTimeout]);return{onPageChangeStart:onPageChangeStart,onPageChangeConfirm:onPageChangeConfirm,onPageChangeCancel:onPageChangeCancel};}","map":{"version":3,"mappings":"AAAA,MAAO,GAAKA,MAAK,KAAM,OAAO,6HAK9B,cAAe,SAASC,mBAAkB,CAACC,SAAwB,CAAE,CAGnE,GAAMC,8BAA6B,CAAGH,KAAK,CAACI,MAAM,CAAWC,SAAS,CAAC,CACvE,GAAMC,kBAAiB,CAAGN,KAAK,CAACI,MAAM,CAAS,CAAC,CAAC,CACjD,GAAMG,mBAAkB,CAAGP,KAAK,CAACI,MAAM,EAAO,CAE9C,GAAMI,qBAAoB,CAAGR,KAAK,CAACS,WAAW,CAAC,UAAM,CACnD,GAAIF,kBAAkB,CAACG,OAAO,GAAKL,SAAS,CAAE,CAC5CM,YAAY,CAACJ,kBAAkB,CAACG,OAAO,CAAC,CACxCH,kBAAkB,CAACG,OAAO,CAAGL,SAAS,CACxC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMO,kBAAiB,CAAGZ,KAAK,CAACS,WAAW,CAAC,UAAM,CAChD,GAAI,CAACP,SAAS,EAAE,CAAE,CAChB,OACF,CAEAM,oBAAoB,EAAE,CAEtB,GAAMK,MAAe,CAAGC,SAAS,CAACC,KAAK,CAACC,qBAAqB,EAAE,CAG/DH,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEI,IAAI,EAAE,CAGbd,6BAA6B,CAACO,OAAO,CAAGG,KAAK,CAG7CP,iBAAiB,CAACI,OAAO,CAAGQ,IAAI,CAACC,GAAG,EAAE,CACxC,CAAC,CAAE,CAACX,oBAAoB,CAAEN,SAAS,CAAC,CAAC,CAErC,GAAMkB,oBAAmB,CAAGpB,KAAK,CAACS,WAAW,CAC1CY,cAAc,CAAK,CAClB,GAAI,CAACnB,SAAS,EAAE,CAAE,CAChB,OACF,CAEAM,oBAAoB,EAAE,CAEtB,GAAIa,KAAK,CAAE,CAITC,QAAQ,CAACC,OAAO,EAAE,CACpB,CAAC,IAAM,CACL,GAAMV,MAAK,CAAGV,6BAA6B,CAACO,OAAO,CAInDG,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEI,IAAI,EAAE,CACf,CAGAd,6BAA6B,CAACO,OAAO,CAAGL,SAAS,CACnD,CAAC,CACD,CAACG,oBAAoB,CAAEN,SAAS,CAAC,CAClC,CAED,GAAMsB,mBAAkB,CAAGxB,KAAK,CAACS,WAAW,CAAC,UAAM,CACjD,GAAI,CAACP,SAAS,EAAE,CAAE,CAChB,OACF,CAEAM,oBAAoB,EAAE,CAGtB,GAAMK,MAAK,CAAGV,6BAA6B,CAACO,OAAO,CAEnD,GAAIG,KAAK,CAAE,CAQT,GAAIK,IAAI,CAACC,GAAG,EAAE,CAAGb,iBAAiB,CAACI,OAAO,CAAG,GAAG,CAAE,CAChDH,kBAAkB,CAACG,OAAO,CAAGe,UAAU,CAAC,UAAM,CAC5CZ,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEa,KAAK,EAAE,CACdvB,6BAA6B,CAACO,OAAO,CAAGL,SAAS,CACnD,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,IAAM,CACLQ,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEa,KAAK,EAAE,CACdvB,6BAA6B,CAACO,OAAO,CAAGL,SAAS,CACnD,CACF,CACF,CAAC,CAAE,CAACG,oBAAoB,CAAEN,SAAS,CAAC,CAAC,CAErCF,KAAK,CAAC2B,SAAS,CAAC,UAAM,CACpB,MAAO,kBAAMnB,qBAAoB,EAAE,GACrC,CAAC,CAAE,CAACA,oBAAoB,CAAC,CAAC,CAE1B,MAAO,CACLI,iBAAiB,CAAjBA,iBAAiB,CACjBQ,mBAAmB,CAAnBA,mBAAmB,CACnBI,qCACF,CAAC,CACH","names":["React","useKeyboardManager","isEnabled","previouslyFocusedTextInputRef","useRef","undefined","startTimestampRef","keyboardTimeoutRef","clearKeyboardTimeout","useCallback","current","clearTimeout","onPageChangeStart","input","TextInput","State","currentlyFocusedInput","blur","Date","now","onPageChangeConfirm","force","Keyboard","dismiss","onPageChangeCancel","setTimeout","focus","useEffect"],"sourceRoot":"../../src","sources":["useKeyboardManager.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}