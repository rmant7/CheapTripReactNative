{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import*as React from'react';import Animated from\"react-native-web/dist/exports/Animated\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{useInternalTheme}from\"../../../core/theming\";import AnimatedText from\"../../Typography/AnimatedText\";var LabelBackground=function LabelBackground(_ref){var parentState=_ref.parentState,_ref$labelProps=_ref.labelProps,placeholderStyle=_ref$labelProps.placeholderStyle,baseLabelTranslateX=_ref$labelProps.baseLabelTranslateX,topPosition=_ref$labelProps.topPosition,hasActiveOutline=_ref$labelProps.hasActiveOutline,label=_ref$labelProps.label,backgroundColor=_ref$labelProps.backgroundColor,roundness=_ref$labelProps.roundness,labelStyle=_ref.labelStyle,maxFontSizeMultiplier=_ref.maxFontSizeMultiplier;var hasFocus=hasActiveOutline||parentState.value;var opacity=parentState.labeled.interpolate({inputRange:[0,1],outputRange:[hasFocus?1:0,0]});var _useInternalTheme=useInternalTheme(),isV3=_useInternalTheme.isV3;var labelTranslationX={translateX:parentState.labeled.interpolate({inputRange:[0,1],outputRange:[-baseLabelTranslateX,0]})};var labelTextScaleY={scaleY:parentState.labeled.interpolate({inputRange:[0,1],outputRange:[0.2,1]})};var labelTextTransform=[].concat(_toConsumableArray(labelStyle.transform),[labelTextScaleY]);var labelTextWidth=isV3?{width:parentState.labelLayout.width-placeholderStyle.paddingHorizontal}:{maxWidth:parentState.labelLayout.width-2*placeholderStyle.paddingHorizontal};return label?[React.createElement(Animated.View,{key:\"labelBackground-view\",pointerEvents:\"none\",style:[StyleSheet.absoluteFill,styles.view,{backgroundColor:backgroundColor,maxHeight:Math.max(roundness/3,2),opacity:opacity,bottom:Math.max(roundness,2),transform:[labelTranslationX]}]}),React.createElement(AnimatedText,{key:\"labelBackground-text\",style:[placeholderStyle,labelStyle,styles.outlinedLabel,isV3&&styles.md3OutlinedLabel,{top:topPosition+1,backgroundColor:backgroundColor,opacity:opacity,transform:labelTextTransform},labelTextWidth],numberOfLines:1,maxFontSizeMultiplier:maxFontSizeMultiplier},label)]:null;};export default LabelBackground;var styles=StyleSheet.create({view:{position:'absolute',top:6,left:10,width:12},outlinedLabel:{position:'absolute',left:18,paddingHorizontal:0,color:'transparent'},md3OutlinedLabel:{left:8}});","map":{"version":3,"mappings":"yEAAA,MAAO,GAAKA,MAAK,KAAM,OAAO,+HAG9B,OAASC,gBAAgB,6BACzB,MAAOC,aAAY,qCAGnB,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,CAAGC,KAaI,IAZ1BC,YAAW,CAYUD,KAZrBC,WAAW,iBAYUD,KAXrBE,UAAU,CACRC,gBAAgB,iBAAhBA,gBAAgB,CAChBC,mBAAmB,iBAAnBA,mBAAmB,CACnBC,WAAW,iBAAXA,WAAW,CACXC,gBAAgB,iBAAhBA,gBAAgB,CAChBC,KAAK,iBAALA,KAAK,CACLC,eAAe,iBAAfA,eAAe,CACfC,oCAEFC,UAAU,CAEWV,KAFrBU,UAAU,CACVC,sBACqBX,KADrBW,sBAEA,GAAMC,SAAQ,CAAGN,gBAAgB,EAAIL,WAAW,CAACY,KAAK,CACtD,GAAMC,QAAO,CAAGb,WAAW,CAACc,OAAO,CAACC,WAAW,CAAC,CAC9CC,UAAU,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAClBC,WAAW,CAAE,CAACN,QAAQ,CAAG,CAAC,CAAG,CAAC,CAAE,CAAC,CACnC,CAAC,CAAC,CAEF,sBAAiBf,gBAAgB,EAAE,CAA3BsB,4BAER,GAAMC,kBAAiB,CAAG,CACxBC,UAAU,CAAEpB,WAAW,CAACc,OAAO,CAACC,WAAW,CAAC,CAC1CC,UAAU,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAClBC,WAAW,CAAE,CAAC,CAACd,mBAAmB,CAAE,CAAC,CACvC,CAAC,CACH,CAAC,CAED,GAAMkB,gBAAe,CAAG,CACtBC,MAAM,CAAEtB,WAAW,CAACc,OAAO,CAACC,WAAW,CAAC,CACtCC,UAAU,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAClBC,WAAW,CAAE,CAAC,GAAG,CAAE,CAAC,CACtB,CAAC,CACH,CAAC,CAED,GAAMM,mBAAkB,8BAAOd,UAAU,CAACe,SAAS,GAAEH,eAAe,EAAC,CAErE,GAAMI,eAAc,CAAGP,IAAI,CACvB,CACEQ,KAAK,CACH1B,WAAW,CAAC2B,WAAW,CAACD,KAAK,CAAGxB,gBAAgB,CAAC0B,iBACrD,CAAC,CACD,CACEC,QAAQ,CACN7B,WAAW,CAAC2B,WAAW,CAACD,KAAK,CAC7B,CAAC,CAAGxB,gBAAgB,CAAC0B,iBACzB,CAAC,CAEL,MAAOtB,MAAK,CACR,CACEX,oBAACmC,QAAQ,CAACC,IAAI,EACZC,GAAG,CAAC,sBAAsB,CAC1BC,aAAa,CAAC,MAAM,CACpBC,KAAK,CAAE,CACLC,UAAU,CAACC,YAAY,CACvBC,MAAM,CAACC,IAAI,CACX,CACE/B,eAAe,CAAfA,eAAe,CACfgC,SAAS,CAAEC,IAAI,CAACC,GAAG,CAACjC,SAAS,CAAG,CAAC,CAAE,CAAC,CAAC,CACrCK,OAAO,CAAPA,OAAO,CACP6B,MAAM,CAAEF,IAAI,CAACC,GAAG,CAACjC,SAAS,CAAE,CAAC,CAAC,CAC9BgB,SAAS,CAAE,CAACL,iBAAiB,CAC/B,CAAC,CACD,EACF,CACFxB,oBAACE,YAAY,EACXmC,GAAG,CAAC,sBAAsB,CAC1BE,KAAK,CAAE,CACLhC,gBAAgB,CAChBO,UAAU,CACV4B,MAAM,CAACM,aAAa,CACpBzB,IAAI,EAAImB,MAAM,CAACO,gBAAgB,CAC/B,CACEC,GAAG,CAAEzC,WAAW,CAAG,CAAC,CACpBG,eAAe,CAAfA,eAAe,CACfM,OAAO,CAAPA,OAAO,CACPW,SAAS,CAAED,kBACb,CAAC,CACDE,cAAc,CACd,CACFqB,aAAa,CAAE,CAAE,CACjBpC,qBAAqB,CAAEA,qBAAsB,EAE5CJ,KAAK,CACO,CAChB,CACD,IAAI,CACV,CAAC,CAED,cAAeR,gBAAe,CAE9B,GAAMuC,OAAM,CAAGF,UAAU,CAACY,MAAM,CAAC,CAC/BT,IAAI,CAAE,CACJU,QAAQ,CAAE,UAAU,CACpBH,GAAG,CAAE,CAAC,CACNI,IAAI,CAAE,EAAE,CACRvB,KAAK,CAAE,EACT,CAAC,CACDiB,aAAa,CAAE,CACbK,QAAQ,CAAE,UAAU,CACpBC,IAAI,CAAE,EAAE,CACRrB,iBAAiB,CAAE,CAAC,CACpBsB,KAAK,CAAE,aACT,CAAC,CACDN,gBAAgB,CAAE,CAChBK,IAAI,CAAE,CACR,CACF,CAAC,CAAC","names":["React","useInternalTheme","AnimatedText","LabelBackground","_ref","parentState","labelProps","placeholderStyle","baseLabelTranslateX","topPosition","hasActiveOutline","label","backgroundColor","roundness","labelStyle","maxFontSizeMultiplier","hasFocus","value","opacity","labeled","interpolate","inputRange","outputRange","isV3","labelTranslationX","translateX","labelTextScaleY","scaleY","labelTextTransform","transform","labelTextWidth","width","labelLayout","paddingHorizontal","maxWidth","Animated","View","key","pointerEvents","style","StyleSheet","absoluteFill","styles","view","maxHeight","Math","max","bottom","outlinedLabel","md3OutlinedLabel","top","numberOfLines","create","position","left","color"],"sources":["LabelBackground.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Animated, StyleSheet } from 'react-native';\n\nimport { useInternalTheme } from '../../../core/theming';\nimport AnimatedText from '../../Typography/AnimatedText';\nimport type { LabelBackgroundProps } from '../types';\n\nconst LabelBackground = ({\n  parentState,\n  labelProps: {\n    placeholderStyle,\n    baseLabelTranslateX,\n    topPosition,\n    hasActiveOutline,\n    label,\n    backgroundColor,\n    roundness,\n  },\n  labelStyle,\n  maxFontSizeMultiplier,\n}: LabelBackgroundProps) => {\n  const hasFocus = hasActiveOutline || parentState.value;\n  const opacity = parentState.labeled.interpolate({\n    inputRange: [0, 1],\n    outputRange: [hasFocus ? 1 : 0, 0],\n  });\n\n  const { isV3 } = useInternalTheme();\n\n  const labelTranslationX = {\n    translateX: parentState.labeled.interpolate({\n      inputRange: [0, 1],\n      outputRange: [-baseLabelTranslateX, 0],\n    }),\n  };\n\n  const labelTextScaleY = {\n    scaleY: parentState.labeled.interpolate({\n      inputRange: [0, 1],\n      outputRange: [0.2, 1],\n    }),\n  };\n\n  const labelTextTransform = [...labelStyle.transform, labelTextScaleY];\n\n  const labelTextWidth = isV3\n    ? {\n        width:\n          parentState.labelLayout.width - placeholderStyle.paddingHorizontal,\n      }\n    : {\n        maxWidth:\n          parentState.labelLayout.width -\n          2 * placeholderStyle.paddingHorizontal,\n      };\n\n  return label\n    ? [\n        <Animated.View\n          key=\"labelBackground-view\"\n          pointerEvents=\"none\"\n          style={[\n            StyleSheet.absoluteFill,\n            styles.view,\n            {\n              backgroundColor,\n              maxHeight: Math.max(roundness / 3, 2),\n              opacity,\n              bottom: Math.max(roundness, 2),\n              transform: [labelTranslationX],\n            },\n          ]}\n        />,\n        <AnimatedText\n          key=\"labelBackground-text\"\n          style={[\n            placeholderStyle,\n            labelStyle,\n            styles.outlinedLabel,\n            isV3 && styles.md3OutlinedLabel,\n            {\n              top: topPosition + 1,\n              backgroundColor,\n              opacity,\n              transform: labelTextTransform,\n            },\n            labelTextWidth,\n          ]}\n          numberOfLines={1}\n          maxFontSizeMultiplier={maxFontSizeMultiplier}\n        >\n          {label}\n        </AnimatedText>,\n      ]\n    : null;\n};\n\nexport default LabelBackground;\n\nconst styles = StyleSheet.create({\n  view: {\n    position: 'absolute',\n    top: 6,\n    left: 10,\n    width: 12,\n  },\n  outlinedLabel: {\n    position: 'absolute',\n    left: 18,\n    paddingHorizontal: 0,\n    color: 'transparent',\n  },\n  md3OutlinedLabel: {\n    left: 8,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}