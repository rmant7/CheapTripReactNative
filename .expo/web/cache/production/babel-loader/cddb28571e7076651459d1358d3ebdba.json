{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import color from'color';import{MD3LightTheme}from\"../../styles/themes\";import{AdornmentSide,AdornmentType}from\"./Adornment/enums\";import{ADORNMENT_SIZE,MD2_ADORNMENT_OFFSET,MD2_AFFIX_OFFSET,MD2_FLAT_INPUT_OFFSET,MD2_ICON_OFFSET,MD2_INPUT_PADDING_HORIZONTAL,MD2_LABEL_PADDING_HORIZONTAL,MD2_LABEL_PADDING_TOP,MD2_MIN_HEIGHT,MD2_OUTLINED_INPUT_OFFSET,MD3_ADORNMENT_OFFSET,MD3_AFFIX_OFFSET,MD3_FLAT_INPUT_OFFSET,MD3_ICON_OFFSET,MD3_INPUT_PADDING_HORIZONTAL,MD3_LABEL_PADDING_HORIZONTAL,MD3_LABEL_PADDING_TOP,MD3_MIN_HEIGHT,MD3_OUTLINED_INPUT_OFFSET}from\"./constants\";export var calculateLabelTopPosition=function calculateLabelTopPosition(labelHeight){var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var optionalPadding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var customHeight=height>0?height:0;return Math.floor((customHeight-labelHeight)/2+optionalPadding);};export var calculateInputHeight=function calculateInputHeight(labelHeight){var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var minHeight=arguments.length>2?arguments[2]:undefined;var finalHeight=height>0?height:labelHeight;if(height>0)return height;return finalHeight<minHeight?minHeight:finalHeight;};export var calculatePadding=function calculatePadding(props){var height=props.height,_props$multiline=props.multiline,multiline=_props$multiline===void 0?false:_props$multiline;var result=0;if(multiline){if(height&&multiline){result=calculateTextAreaPadding(props);}else{result=calculateInputPadding(props);}}return Math.max(0,result);};var calculateTextAreaPadding=function calculateTextAreaPadding(props){var dense=props.dense;return dense?10:20;};var calculateInputPadding=function calculateInputPadding(_ref){var topPosition=_ref.topPosition,fontSize=_ref.fontSize,multiline=_ref.multiline,scale=_ref.scale,dense=_ref.dense,offset=_ref.offset,isAndroid=_ref.isAndroid;var refFontSize=scale*fontSize;var result=Math.floor(topPosition/2);result=result+Math.floor((refFontSize-fontSize)/2)-(scale<1?offset/2:0);if(multiline&&isAndroid)result=Math.min(dense?offset/2:offset,result);return result;};export var adjustPaddingOut=function adjustPaddingOut(_ref2){var pad=_ref2.pad,multiline=_ref2.multiline,label=_ref2.label,scale=_ref2.scale,height=_ref2.height,fontSize=_ref2.fontSize,lineHeight=_ref2.lineHeight,dense=_ref2.dense,offset=_ref2.offset,isAndroid=_ref2.isAndroid;var fontHeight=lineHeight!==null&&lineHeight!==void 0?lineHeight:fontSize;var refFontHeight=scale*fontSize;var result=pad;if(height&&!multiline){return{paddingTop:Math.max(0,(height-fontHeight)/2),paddingBottom:Math.max(0,(height-fontHeight)/2)};}if(!isAndroid&&multiline){if(dense){if(label){result+=scale<1?Math.min(offset,refFontHeight/2*scale):0;}else{result+=0;}}if(!dense){if(label){result+=scale<1?Math.min(offset,refFontHeight*scale):Math.min(offset/2,refFontHeight*scale);}else{result+=scale<1?Math.min(offset/2,refFontHeight*scale):0;}}result=Math.floor(result);}return{paddingTop:result,paddingBottom:result};};export var adjustPaddingFlat=function adjustPaddingFlat(_ref3){var pad=_ref3.pad,scale=_ref3.scale,multiline=_ref3.multiline,label=_ref3.label,height=_ref3.height,offset=_ref3.offset,dense=_ref3.dense,fontSize=_ref3.fontSize,isAndroid=_ref3.isAndroid,styles=_ref3.styles;var result=pad;var topResult=result;var bottomResult=result;var paddingTop=styles.paddingTop,paddingBottom=styles.paddingBottom;var refFontSize=scale*fontSize;if(!multiline){if(label){return{paddingTop:paddingTop,paddingBottom:paddingBottom};}return{paddingTop:result,paddingBottom:result};}if(label){topResult=paddingTop;bottomResult=paddingBottom;if(!isAndroid){if(dense){topResult+=scale<1?Math.min(result,refFontSize*scale)-result/2:Math.min(result,refFontSize*scale)-result/2;}if(!dense){topResult+=scale<1?Math.min(offset/2,refFontSize*scale):Math.min(result,refFontSize*scale)-offset/2;}}topResult=Math.floor(topResult);}else{if(height){return{paddingTop:Math.max(0,(height-fontSize)/2),paddingBottom:Math.max(0,(height-fontSize)/2)};}if(!isAndroid){if(dense){result+=scale<1?Math.min(offset/2,fontSize/2*scale):Math.min(offset/2,scale);}if(!dense){result+=scale<1?Math.min(offset,fontSize*scale):Math.min(fontSize,offset/2*scale);}result=Math.floor(result);topResult=result;bottomResult=result;}}return{paddingTop:Math.max(0,topResult),paddingBottom:Math.max(0,bottomResult)};};export var interpolatePlaceholder=function interpolatePlaceholder(labeled,hasActiveOutline){return labeled.interpolate({inputRange:[0,1],outputRange:[hasActiveOutline?0:1,1]});};export function calculateFlatAffixTopPosition(_ref4){var height=_ref4.height,paddingTop=_ref4.paddingTop,paddingBottom=_ref4.paddingBottom,affixHeight=_ref4.affixHeight;var inputHeightWithoutPadding=height-paddingTop-paddingBottom;var halfOfTheInputHeightDecreasedByAffixHeight=(inputHeightWithoutPadding-affixHeight)/2;return paddingTop+halfOfTheInputHeightDecreasedByAffixHeight;}export function calculateOutlinedIconAndAffixTopPosition(_ref5){var height=_ref5.height,affixHeight=_ref5.affixHeight,labelYOffset=_ref5.labelYOffset;return(height-affixHeight+labelYOffset)/2;}export var calculateFlatInputHorizontalPadding=function calculateFlatInputHorizontalPadding(_ref6){var adornmentConfig=_ref6.adornmentConfig,isV3=_ref6.isV3;var _getConstants=getConstants(isV3),LABEL_PADDING_HORIZONTAL=_getConstants.LABEL_PADDING_HORIZONTAL,ADORNMENT_OFFSET=_getConstants.ADORNMENT_OFFSET,FLAT_INPUT_OFFSET=_getConstants.FLAT_INPUT_OFFSET;var paddingLeft=LABEL_PADDING_HORIZONTAL;var paddingRight=LABEL_PADDING_HORIZONTAL;adornmentConfig.forEach(function(_ref7){var type=_ref7.type,side=_ref7.side;if(type===AdornmentType.Icon&&side===AdornmentSide.Left){paddingLeft=ADORNMENT_SIZE+ADORNMENT_OFFSET+FLAT_INPUT_OFFSET;}else if(side===AdornmentSide.Right){if(type===AdornmentType.Affix){paddingRight=ADORNMENT_SIZE+ADORNMENT_OFFSET+FLAT_INPUT_OFFSET;}else if(type===AdornmentType.Icon){paddingRight=ADORNMENT_SIZE+ADORNMENT_OFFSET+FLAT_INPUT_OFFSET;}}});return{paddingLeft:paddingLeft,paddingRight:paddingRight};};var getInputTextColor=function getInputTextColor(_ref8){var theme=_ref8.theme,textColor=_ref8.textColor,disabled=_ref8.disabled,mode=_ref8.mode;var isFlat=mode==='flat';if(textColor){return textColor;}if(theme.isV3){if(disabled){return theme.colors.onSurfaceDisabled;}if(isFlat){return theme.colors.onSurfaceVariant;}return theme.colors.onSurface;}if(disabled){return color(theme.colors.text).alpha(0.54).rgb().string();}return theme.colors.text;};var getActiveColor=function getActiveColor(_ref9){var theme=_ref9.theme,disabled=_ref9.disabled,error=_ref9.error,activeUnderlineColor=_ref9.activeUnderlineColor,activeOutlineColor=_ref9.activeOutlineColor,mode=_ref9.mode;var isFlat=mode==='flat';var modeColor=isFlat?activeUnderlineColor:activeOutlineColor;if(error){return theme.colors.error;}if(modeColor){return modeColor;}if(disabled){if(theme.isV3){return theme.colors.onSurfaceDisabled;}return color(theme.colors.text).alpha(0.54).rgb().string();}return theme.colors.primary;};var getPlaceholderColor=function getPlaceholderColor(_ref10){var theme=_ref10.theme,disabled=_ref10.disabled;if(theme.isV3){if(disabled){return theme.colors.onSurfaceDisabled;}return theme.colors.onSurfaceVariant;}if(disabled){return theme.colors.disabled;}return theme.colors.placeholder;};var getFlatBackgroundColor=function getFlatBackgroundColor(_ref11){var _theme$colors,_theme$colors2;var theme=_ref11.theme,disabled=_ref11.disabled;if(theme.isV3){if(disabled){return color(MD3LightTheme.colors.onSecondaryContainer).alpha(0.08).rgb().string();}else{return theme.colors.surfaceVariant;}}if(disabled){return undefined;}return theme.dark?color((_theme$colors=theme.colors)===null||_theme$colors===void 0?void 0:_theme$colors.background).lighten(0.24).rgb().string():color((_theme$colors2=theme.colors)===null||_theme$colors2===void 0?void 0:_theme$colors2.background).darken(0.06).rgb().string();};var getFlatUnderlineColor=function getFlatUnderlineColor(_ref12){var theme=_ref12.theme,disabled=_ref12.disabled,underlineColor=_ref12.underlineColor;if(!disabled&&underlineColor){return underlineColor;}if(theme.isV3){if(disabled){return theme.colors.onSurfaceDisabled;}return theme.colors.onSurface;}if(disabled){return'transparent';}return theme.colors.disabled;};var getOutlinedOutlineInputColor=function getOutlinedOutlineInputColor(_ref13){var theme=_ref13.theme,disabled=_ref13.disabled,customOutlineColor=_ref13.customOutlineColor;var isTransparent=color(customOutlineColor).alpha()===0;if(!disabled&&customOutlineColor){return customOutlineColor;}if(theme.isV3){if(disabled){if(theme.dark){return'transparent';}return theme.colors.surfaceDisabled;}return theme.colors.outline;}if(disabled){if(isTransparent){return customOutlineColor;}return theme.colors.disabled;}return theme.colors.placeholder;};export var getFlatInputColors=function getFlatInputColors(_ref14){var underlineColor=_ref14.underlineColor,activeUnderlineColor=_ref14.activeUnderlineColor,textColor=_ref14.textColor,disabled=_ref14.disabled,error=_ref14.error,theme=_ref14.theme;var baseFlatColorProps={theme:theme,disabled:disabled};return{inputTextColor:getInputTextColor(_objectSpread(_objectSpread({},baseFlatColorProps),{},{textColor:textColor,mode:'flat'})),activeColor:getActiveColor(_objectSpread(_objectSpread({},baseFlatColorProps),{},{error:error,activeUnderlineColor:activeUnderlineColor,mode:'flat'})),underlineColorCustom:getFlatUnderlineColor(_objectSpread(_objectSpread({},baseFlatColorProps),{},{underlineColor:underlineColor})),placeholderColor:getPlaceholderColor(baseFlatColorProps),errorColor:theme.colors.error,backgroundColor:getFlatBackgroundColor(baseFlatColorProps)};};export var getOutlinedInputColors=function getOutlinedInputColors(_ref15){var activeOutlineColor=_ref15.activeOutlineColor,customOutlineColor=_ref15.customOutlineColor,textColor=_ref15.textColor,disabled=_ref15.disabled,error=_ref15.error,theme=_ref15.theme;var baseOutlinedColorProps={theme:theme,disabled:disabled};return{inputTextColor:getInputTextColor(_objectSpread(_objectSpread({},baseOutlinedColorProps),{},{textColor:textColor,mode:'outlined'})),activeColor:getActiveColor(_objectSpread(_objectSpread({},baseOutlinedColorProps),{},{error:error,activeOutlineColor:activeOutlineColor,mode:'outlined'})),outlineColor:getOutlinedOutlineInputColor(_objectSpread(_objectSpread({},baseOutlinedColorProps),{},{customOutlineColor:customOutlineColor})),placeholderColor:getPlaceholderColor(baseOutlinedColorProps),errorColor:theme.colors.error};};export var getConstants=function getConstants(isV3){var AFFIX_OFFSET;var ICON_OFFSET;var LABEL_PADDING_TOP;var LABEL_PADDING_HORIZONTAL;var FLAT_INPUT_OFFSET;var MIN_HEIGHT;var INPUT_PADDING_HORIZONTAL;var ADORNMENT_OFFSET;var OUTLINED_INPUT_OFFSET;if(isV3){AFFIX_OFFSET=MD3_AFFIX_OFFSET;ICON_OFFSET=MD3_ICON_OFFSET;LABEL_PADDING_TOP=MD3_LABEL_PADDING_TOP;LABEL_PADDING_HORIZONTAL=MD3_LABEL_PADDING_HORIZONTAL;FLAT_INPUT_OFFSET=MD3_FLAT_INPUT_OFFSET;MIN_HEIGHT=MD3_MIN_HEIGHT;INPUT_PADDING_HORIZONTAL=MD3_INPUT_PADDING_HORIZONTAL;ADORNMENT_OFFSET=MD3_ADORNMENT_OFFSET;OUTLINED_INPUT_OFFSET=MD3_OUTLINED_INPUT_OFFSET;}else{AFFIX_OFFSET=MD2_AFFIX_OFFSET;ICON_OFFSET=MD2_ICON_OFFSET;LABEL_PADDING_TOP=MD2_LABEL_PADDING_TOP;LABEL_PADDING_HORIZONTAL=MD2_LABEL_PADDING_HORIZONTAL;FLAT_INPUT_OFFSET=MD2_FLAT_INPUT_OFFSET;MIN_HEIGHT=MD2_MIN_HEIGHT;INPUT_PADDING_HORIZONTAL=MD2_INPUT_PADDING_HORIZONTAL;ADORNMENT_OFFSET=MD2_ADORNMENT_OFFSET;OUTLINED_INPUT_OFFSET=MD2_OUTLINED_INPUT_OFFSET;}return{AFFIX_OFFSET:AFFIX_OFFSET,ICON_OFFSET:ICON_OFFSET,LABEL_PADDING_TOP:LABEL_PADDING_TOP,LABEL_PADDING_HORIZONTAL:LABEL_PADDING_HORIZONTAL,FLAT_INPUT_OFFSET:FLAT_INPUT_OFFSET,MIN_HEIGHT:MIN_HEIGHT,INPUT_PADDING_HORIZONTAL:INPUT_PADDING_HORIZONTAL,ADORNMENT_OFFSET:ADORNMENT_OFFSET,OUTLINED_INPUT_OFFSET:OUTLINED_INPUT_OFFSET};};","map":{"version":3,"sources":["helpers.tsx"],"names":["color","MD3LightTheme","AdornmentSide","AdornmentType","ADORNMENT_SIZE","MD2_ADORNMENT_OFFSET","MD2_AFFIX_OFFSET","MD2_FLAT_INPUT_OFFSET","MD2_ICON_OFFSET","MD2_INPUT_PADDING_HORIZONTAL","MD2_LABEL_PADDING_HORIZONTAL","MD2_LABEL_PADDING_TOP","MD2_MIN_HEIGHT","MD2_OUTLINED_INPUT_OFFSET","MD3_ADORNMENT_OFFSET","MD3_AFFIX_OFFSET","MD3_FLAT_INPUT_OFFSET","MD3_ICON_OFFSET","MD3_INPUT_PADDING_HORIZONTAL","MD3_LABEL_PADDING_HORIZONTAL","MD3_LABEL_PADDING_TOP","MD3_MIN_HEIGHT","MD3_OUTLINED_INPUT_OFFSET","calculateLabelTopPosition","labelHeight","height","optionalPadding","customHeight","Math","floor","calculateInputHeight","minHeight","finalHeight","calculatePadding","props","multiline","result","calculateTextAreaPadding","calculateInputPadding","max","dense","topPosition","fontSize","scale","offset","isAndroid","refFontSize","min","adjustPaddingOut","pad","label","lineHeight","fontHeight","refFontHeight","paddingTop","paddingBottom","adjustPaddingFlat","styles","topResult","bottomResult","interpolatePlaceholder","labeled","hasActiveOutline","interpolate","inputRange","outputRange","calculateFlatAffixTopPosition","affixHeight","inputHeightWithoutPadding","halfOfTheInputHeightDecreasedByAffixHeight","calculateOutlinedIconAndAffixTopPosition","labelYOffset","calculateFlatInputHorizontalPadding","adornmentConfig","isV3","LABEL_PADDING_HORIZONTAL","ADORNMENT_OFFSET","FLAT_INPUT_OFFSET","getConstants","paddingLeft","paddingRight","forEach","type","side","Icon","Left","Right","Affix","getInputTextColor","theme","textColor","disabled","mode","isFlat","colors","onSurfaceDisabled","onSurfaceVariant","onSurface","text","alpha","rgb","string","getActiveColor","error","activeUnderlineColor","activeOutlineColor","modeColor","primary","getPlaceholderColor","placeholder","getFlatBackgroundColor","onSecondaryContainer","surfaceVariant","undefined","dark","background","lighten","darken","getFlatUnderlineColor","underlineColor","getOutlinedOutlineInputColor","customOutlineColor","isTransparent","surfaceDisabled","outline","getFlatInputColors","baseFlatColorProps","inputTextColor","activeColor","underlineColorCustom","placeholderColor","errorColor","backgroundColor","getOutlinedInputColors","baseOutlinedColorProps","outlineColor","AFFIX_OFFSET","ICON_OFFSET","LABEL_PADDING_TOP","MIN_HEIGHT","INPUT_PADDING_HORIZONTAL","OUTLINED_INPUT_OFFSET"],"mappings":"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","sourcesContent":["import type { Animated } from 'react-native';\n\nimport color from 'color';\n\nimport { MD3LightTheme } from '../../styles/themes';\nimport type { InternalTheme } from '../../types';\nimport { AdornmentSide, AdornmentType } from './Adornment/enums';\nimport type { AdornmentConfig } from './Adornment/types';\nimport {\n  ADORNMENT_SIZE,\n  MD2_ADORNMENT_OFFSET,\n  MD2_AFFIX_OFFSET,\n  MD2_FLAT_INPUT_OFFSET,\n  MD2_ICON_OFFSET,\n  MD2_INPUT_PADDING_HORIZONTAL,\n  MD2_LABEL_PADDING_HORIZONTAL,\n  MD2_LABEL_PADDING_TOP,\n  MD2_MIN_HEIGHT,\n  MD2_OUTLINED_INPUT_OFFSET,\n  MD3_ADORNMENT_OFFSET,\n  MD3_AFFIX_OFFSET,\n  MD3_FLAT_INPUT_OFFSET,\n  MD3_ICON_OFFSET,\n  MD3_INPUT_PADDING_HORIZONTAL,\n  MD3_LABEL_PADDING_HORIZONTAL,\n  MD3_LABEL_PADDING_TOP,\n  MD3_MIN_HEIGHT,\n  MD3_OUTLINED_INPUT_OFFSET,\n} from './constants';\nimport type { TextInputLabelProp } from './types';\n\ntype PaddingProps = {\n  height: number | null;\n  labelHalfHeight: number;\n  multiline: boolean | null;\n  dense: boolean | null;\n  topPosition: number;\n  fontSize: number;\n  lineHeight?: number;\n  label?: TextInputLabelProp | null;\n  scale: number;\n  offset: number;\n  isAndroid: boolean;\n  styles: { paddingTop: number; paddingBottom: number };\n};\n\ntype AdjProps = PaddingProps & {\n  pad: number;\n};\n\nexport type Padding = { paddingTop: number; paddingBottom: number };\n\nexport const calculateLabelTopPosition = (\n  labelHeight: number,\n  height: number = 0,\n  optionalPadding: number = 0\n): number => {\n  const customHeight = height > 0 ? height : 0;\n\n  return Math.floor((customHeight - labelHeight) / 2 + optionalPadding);\n};\n\nexport const calculateInputHeight = (\n  labelHeight: number,\n  height: any = 0,\n  minHeight: number\n): number => {\n  const finalHeight = height > 0 ? height : labelHeight;\n\n  if (height > 0) return height;\n  return finalHeight < minHeight ? minHeight : finalHeight;\n};\n\nexport const calculatePadding = (props: PaddingProps): number => {\n  const { height, multiline = false } = props;\n\n  let result = 0;\n\n  if (multiline) {\n    if (height && multiline) {\n      result = calculateTextAreaPadding(props);\n    } else {\n      result = calculateInputPadding(props);\n    }\n  }\n\n  return Math.max(0, result);\n};\n\nconst calculateTextAreaPadding = (props: PaddingProps) => {\n  const { dense } = props;\n\n  return dense ? 10 : 20;\n};\n\nconst calculateInputPadding = ({\n  topPosition,\n  fontSize,\n  multiline,\n  scale,\n  dense,\n  offset,\n  isAndroid,\n}: PaddingProps): number => {\n  const refFontSize = scale * fontSize;\n  let result = Math.floor(topPosition / 2);\n\n  result =\n    result +\n    Math.floor((refFontSize - fontSize) / 2) -\n    (scale < 1 ? offset / 2 : 0);\n\n  if (multiline && isAndroid)\n    result = Math.min(dense ? offset / 2 : offset, result);\n\n  return result;\n};\n\nexport const adjustPaddingOut = ({\n  pad,\n  multiline,\n  label,\n  scale,\n  height,\n  fontSize,\n  lineHeight,\n  dense,\n  offset,\n  isAndroid,\n}: AdjProps): Padding => {\n  const fontHeight = lineHeight ?? fontSize;\n  const refFontHeight = scale * fontSize;\n  let result = pad;\n\n  if (height && !multiline) {\n    return {\n      paddingTop: Math.max(0, (height - fontHeight) / 2),\n      paddingBottom: Math.max(0, (height - fontHeight) / 2),\n    };\n  }\n  if (!isAndroid && multiline) {\n    if (dense) {\n      if (label) {\n        result += scale < 1 ? Math.min(offset, (refFontHeight / 2) * scale) : 0;\n      } else {\n        result += 0;\n      }\n    }\n    if (!dense) {\n      if (label) {\n        result +=\n          scale < 1\n            ? Math.min(offset, refFontHeight * scale)\n            : Math.min(offset / 2, refFontHeight * scale);\n      } else {\n        result += scale < 1 ? Math.min(offset / 2, refFontHeight * scale) : 0;\n      }\n    }\n    result = Math.floor(result);\n  }\n  return { paddingTop: result, paddingBottom: result };\n};\n\nexport const adjustPaddingFlat = ({\n  pad,\n  scale,\n  multiline,\n  label,\n  height,\n  offset,\n  dense,\n  fontSize,\n  isAndroid,\n  styles,\n}: AdjProps): Padding => {\n  let result = pad;\n  let topResult = result;\n  let bottomResult = result;\n  const { paddingTop, paddingBottom } = styles;\n  const refFontSize = scale * fontSize;\n\n  if (!multiline) {\n    // do not modify padding if input is not multiline\n    if (label) {\n      // return const style for flat input with label\n      return { paddingTop, paddingBottom };\n    }\n    // return pad for flat input without label\n    return { paddingTop: result, paddingBottom: result };\n  }\n\n  if (label) {\n    // add paddings passed from styles\n    topResult = paddingTop;\n    bottomResult = paddingBottom;\n\n    // adjust top padding for iOS\n    if (!isAndroid) {\n      if (dense) {\n        topResult +=\n          scale < 1\n            ? Math.min(result, refFontSize * scale) - result / 2\n            : Math.min(result, refFontSize * scale) - result / 2;\n      }\n      if (!dense) {\n        topResult +=\n          scale < 1\n            ? Math.min(offset / 2, refFontSize * scale)\n            : Math.min(result, refFontSize * scale) - offset / 2;\n      }\n    }\n    topResult = Math.floor(topResult);\n  } else {\n    if (height) {\n      // center text when height is passed\n      return {\n        paddingTop: Math.max(0, (height - fontSize) / 2),\n        paddingBottom: Math.max(0, (height - fontSize) / 2),\n      };\n    }\n    // adjust paddings for iOS if no label\n    if (!isAndroid) {\n      if (dense) {\n        result +=\n          scale < 1\n            ? Math.min(offset / 2, (fontSize / 2) * scale)\n            : Math.min(offset / 2, scale);\n      }\n      if (!dense) {\n        result +=\n          scale < 1\n            ? Math.min(offset, fontSize * scale)\n            : Math.min(fontSize, (offset / 2) * scale);\n      }\n\n      result = Math.floor(result);\n      topResult = result;\n      bottomResult = result;\n    }\n  }\n\n  return {\n    paddingTop: Math.max(0, topResult),\n    paddingBottom: Math.max(0, bottomResult),\n  };\n};\n\nexport const interpolatePlaceholder = (\n  labeled: Animated.Value,\n  hasActiveOutline: boolean | undefined\n) =>\n  labeled.interpolate({\n    inputRange: [0, 1],\n    outputRange: [hasActiveOutline ? 0 : 1, 1],\n  });\n\nexport function calculateFlatAffixTopPosition({\n  height,\n  paddingTop,\n  paddingBottom,\n  affixHeight,\n}: {\n  height: number;\n  paddingTop: number;\n  paddingBottom: number;\n  affixHeight: number;\n}): number {\n  const inputHeightWithoutPadding = height - paddingTop - paddingBottom;\n\n  const halfOfTheInputHeightDecreasedByAffixHeight =\n    (inputHeightWithoutPadding - affixHeight) / 2;\n\n  return paddingTop + halfOfTheInputHeightDecreasedByAffixHeight;\n}\n\nexport function calculateOutlinedIconAndAffixTopPosition({\n  height,\n  affixHeight,\n  labelYOffset,\n}: {\n  height: number;\n  affixHeight: number;\n  labelYOffset: number;\n}): number {\n  return (height - affixHeight + labelYOffset) / 2;\n}\n\nexport const calculateFlatInputHorizontalPadding = ({\n  adornmentConfig,\n  isV3,\n}: {\n  adornmentConfig: AdornmentConfig[];\n  isV3?: boolean;\n}) => {\n  const { LABEL_PADDING_HORIZONTAL, ADORNMENT_OFFSET, FLAT_INPUT_OFFSET } =\n    getConstants(isV3);\n\n  let paddingLeft = LABEL_PADDING_HORIZONTAL;\n  let paddingRight = LABEL_PADDING_HORIZONTAL;\n\n  adornmentConfig.forEach(({ type, side }) => {\n    if (type === AdornmentType.Icon && side === AdornmentSide.Left) {\n      paddingLeft = ADORNMENT_SIZE + ADORNMENT_OFFSET + FLAT_INPUT_OFFSET;\n    } else if (side === AdornmentSide.Right) {\n      if (type === AdornmentType.Affix) {\n        paddingRight = ADORNMENT_SIZE + ADORNMENT_OFFSET + FLAT_INPUT_OFFSET;\n      } else if (type === AdornmentType.Icon) {\n        paddingRight = ADORNMENT_SIZE + ADORNMENT_OFFSET + FLAT_INPUT_OFFSET;\n      }\n    }\n  });\n\n  return { paddingLeft, paddingRight };\n};\n\ntype BaseProps = {\n  theme: InternalTheme;\n  disabled?: boolean;\n};\n\ntype Mode = 'flat' | 'outlined';\n\nconst getInputTextColor = ({\n  theme,\n  textColor,\n  disabled,\n  mode,\n}: BaseProps & { mode: Mode; textColor?: string }) => {\n  const isFlat = mode === 'flat';\n  if (textColor) {\n    return textColor;\n  }\n\n  if (theme.isV3) {\n    if (disabled) {\n      return theme.colors.onSurfaceDisabled;\n    }\n\n    if (isFlat) {\n      return theme.colors.onSurfaceVariant;\n    }\n\n    return theme.colors.onSurface;\n  }\n\n  if (disabled) {\n    return color(theme.colors.text).alpha(0.54).rgb().string();\n  }\n\n  return theme.colors.text;\n};\n\nconst getActiveColor = ({\n  theme,\n  disabled,\n  error,\n  activeUnderlineColor,\n  activeOutlineColor,\n  mode,\n}: BaseProps & {\n  error?: boolean;\n  activeUnderlineColor?: string;\n  activeOutlineColor?: string;\n  mode?: Mode;\n}) => {\n  const isFlat = mode === 'flat';\n  const modeColor = isFlat ? activeUnderlineColor : activeOutlineColor;\n\n  if (error) {\n    return theme.colors.error;\n  }\n\n  if (modeColor) {\n    return modeColor;\n  }\n\n  if (disabled) {\n    if (theme.isV3) {\n      return theme.colors.onSurfaceDisabled;\n    }\n\n    return color(theme.colors.text).alpha(0.54).rgb().string();\n  }\n\n  return theme.colors.primary;\n};\n\nconst getPlaceholderColor = ({ theme, disabled }: BaseProps) => {\n  if (theme.isV3) {\n    if (disabled) {\n      return theme.colors.onSurfaceDisabled;\n    }\n\n    return theme.colors.onSurfaceVariant;\n  }\n\n  if (disabled) {\n    return theme.colors.disabled;\n  }\n\n  return theme.colors.placeholder;\n};\n\nconst getFlatBackgroundColor = ({ theme, disabled }: BaseProps) => {\n  if (theme.isV3) {\n    if (disabled) {\n      // @ts-ignore According to Figma for both themes the base color for disabled in `onSecondaryContainer`\n      return color(MD3LightTheme.colors.onSecondaryContainer)\n        .alpha(0.08)\n        .rgb()\n        .string();\n    } else {\n      return theme.colors.surfaceVariant;\n    }\n  }\n\n  if (disabled) {\n    return undefined;\n  }\n\n  return theme.dark\n    ? color(theme.colors?.background).lighten(0.24).rgb().string()\n    : color(theme.colors?.background).darken(0.06).rgb().string();\n};\n\nconst getFlatUnderlineColor = ({\n  theme,\n  disabled,\n  underlineColor,\n}: BaseProps & { underlineColor?: string }) => {\n  if (!disabled && underlineColor) {\n    return underlineColor;\n  }\n\n  if (theme.isV3) {\n    if (disabled) {\n      return theme.colors.onSurfaceDisabled;\n    }\n\n    return theme.colors.onSurface;\n  }\n\n  if (disabled) {\n    return 'transparent';\n  }\n\n  return theme.colors.disabled;\n};\n\nconst getOutlinedOutlineInputColor = ({\n  theme,\n  disabled,\n  customOutlineColor,\n}: BaseProps & { customOutlineColor?: string }) => {\n  const isTransparent = color(customOutlineColor).alpha() === 0;\n\n  if (!disabled && customOutlineColor) {\n    return customOutlineColor;\n  }\n\n  if (theme.isV3) {\n    if (disabled) {\n      if (theme.dark) {\n        return 'transparent';\n      }\n      return theme.colors.surfaceDisabled;\n    }\n\n    return theme.colors.outline;\n  }\n\n  if (disabled) {\n    if (isTransparent) {\n      return customOutlineColor;\n    }\n    return theme.colors.disabled;\n  }\n  return theme.colors.placeholder;\n};\n\nexport const getFlatInputColors = ({\n  underlineColor,\n  activeUnderlineColor,\n  textColor,\n  disabled,\n  error,\n  theme,\n}: {\n  underlineColor?: string;\n  activeUnderlineColor?: string;\n  textColor?: string;\n  disabled?: boolean;\n  error?: boolean;\n  theme: InternalTheme;\n}) => {\n  const baseFlatColorProps = { theme, disabled };\n  return {\n    inputTextColor: getInputTextColor({\n      ...baseFlatColorProps,\n      textColor,\n      mode: 'flat',\n    }),\n    activeColor: getActiveColor({\n      ...baseFlatColorProps,\n      error,\n      activeUnderlineColor,\n      mode: 'flat',\n    }),\n    underlineColorCustom: getFlatUnderlineColor({\n      ...baseFlatColorProps,\n      underlineColor,\n    }),\n    placeholderColor: getPlaceholderColor(baseFlatColorProps),\n    errorColor: theme.colors.error,\n    backgroundColor: getFlatBackgroundColor(baseFlatColorProps),\n  };\n};\n\nexport const getOutlinedInputColors = ({\n  activeOutlineColor,\n  customOutlineColor,\n  textColor,\n  disabled,\n  error,\n  theme,\n}: {\n  activeOutlineColor?: string;\n  customOutlineColor?: string;\n  textColor?: string;\n  disabled?: boolean;\n  error?: boolean;\n  theme: InternalTheme;\n}) => {\n  const baseOutlinedColorProps = { theme, disabled };\n\n  return {\n    inputTextColor: getInputTextColor({\n      ...baseOutlinedColorProps,\n      textColor,\n      mode: 'outlined',\n    }),\n    activeColor: getActiveColor({\n      ...baseOutlinedColorProps,\n      error,\n      activeOutlineColor,\n      mode: 'outlined',\n    }),\n    outlineColor: getOutlinedOutlineInputColor({\n      ...baseOutlinedColorProps,\n      customOutlineColor,\n    }),\n    placeholderColor: getPlaceholderColor(baseOutlinedColorProps),\n    errorColor: theme.colors.error,\n  };\n};\n\nexport const getConstants = (isV3?: boolean) => {\n  // Text input affix\n  let AFFIX_OFFSET;\n  // Text input icon\n  let ICON_OFFSET;\n  //Text input flat\n  let LABEL_PADDING_TOP;\n  let LABEL_PADDING_HORIZONTAL;\n  let FLAT_INPUT_OFFSET;\n  let MIN_HEIGHT;\n  // Text input outlined;\n  let INPUT_PADDING_HORIZONTAL;\n  let ADORNMENT_OFFSET;\n  let OUTLINED_INPUT_OFFSET;\n\n  if (isV3) {\n    AFFIX_OFFSET = MD3_AFFIX_OFFSET;\n    ICON_OFFSET = MD3_ICON_OFFSET;\n    LABEL_PADDING_TOP = MD3_LABEL_PADDING_TOP;\n    LABEL_PADDING_HORIZONTAL = MD3_LABEL_PADDING_HORIZONTAL;\n    FLAT_INPUT_OFFSET = MD3_FLAT_INPUT_OFFSET;\n    MIN_HEIGHT = MD3_MIN_HEIGHT;\n    INPUT_PADDING_HORIZONTAL = MD3_INPUT_PADDING_HORIZONTAL;\n    ADORNMENT_OFFSET = MD3_ADORNMENT_OFFSET;\n    OUTLINED_INPUT_OFFSET = MD3_OUTLINED_INPUT_OFFSET;\n  } else {\n    AFFIX_OFFSET = MD2_AFFIX_OFFSET;\n    ICON_OFFSET = MD2_ICON_OFFSET;\n    LABEL_PADDING_TOP = MD2_LABEL_PADDING_TOP;\n    LABEL_PADDING_HORIZONTAL = MD2_LABEL_PADDING_HORIZONTAL;\n    FLAT_INPUT_OFFSET = MD2_FLAT_INPUT_OFFSET;\n    MIN_HEIGHT = MD2_MIN_HEIGHT;\n    INPUT_PADDING_HORIZONTAL = MD2_INPUT_PADDING_HORIZONTAL;\n    ADORNMENT_OFFSET = MD2_ADORNMENT_OFFSET;\n    OUTLINED_INPUT_OFFSET = MD2_OUTLINED_INPUT_OFFSET;\n  }\n\n  return {\n    AFFIX_OFFSET,\n    ICON_OFFSET,\n    LABEL_PADDING_TOP,\n    LABEL_PADDING_HORIZONTAL,\n    FLAT_INPUT_OFFSET,\n    MIN_HEIGHT,\n    INPUT_PADDING_HORIZONTAL,\n    ADORNMENT_OFFSET,\n    OUTLINED_INPUT_OFFSET,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}