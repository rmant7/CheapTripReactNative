{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{NavigationContext,NavigationRouteContext}from'@react-navigation/native';import*as React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import{useSafeAreaFrame,useSafeAreaInsets}from'react-native-safe-area-context';import Background from\"./Background\";import getDefaultHeaderHeight from\"./Header/getDefaultHeaderHeight\";import HeaderHeightContext from\"./Header/HeaderHeightContext\";import HeaderShownContext from\"./Header/HeaderShownContext\";export default function Screen(props){var dimensions=useSafeAreaFrame();var insets=useSafeAreaInsets();var isParentHeaderShown=React.useContext(HeaderShownContext);var parentHeaderHeight=React.useContext(HeaderHeightContext);var focused=props.focused,_props$modal=props.modal,modal=_props$modal===void 0?false:_props$modal,header=props.header,_props$headerShown=props.headerShown,headerShown=_props$headerShown===void 0?true:_props$headerShown,headerTransparent=props.headerTransparent,_props$headerStatusBa=props.headerStatusBarHeight,headerStatusBarHeight=_props$headerStatusBa===void 0?isParentHeaderShown?0:insets.top:_props$headerStatusBa,navigation=props.navigation,route=props.route,children=props.children,style=props.style;var _React$useState=React.useState(function(){return getDefaultHeaderHeight(dimensions,modal,headerStatusBarHeight);}),_React$useState2=_slicedToArray(_React$useState,2),headerHeight=_React$useState2[0],setHeaderHeight=_React$useState2[1];return React.createElement(Background,{accessibilityElementsHidden:!focused,importantForAccessibility:focused?'auto':'no-hide-descendants',style:[styles.container,style]},React.createElement(View,{style:styles.content},React.createElement(HeaderShownContext.Provider,{value:isParentHeaderShown||headerShown!==false},React.createElement(HeaderHeightContext.Provider,{value:headerShown?headerHeight:parentHeaderHeight!=null?parentHeaderHeight:0},children))),headerShown?React.createElement(NavigationContext.Provider,{value:navigation},React.createElement(NavigationRouteContext.Provider,{value:route},React.createElement(View,{onLayout:function onLayout(e){var height=e.nativeEvent.layout.height;setHeaderHeight(height);},style:headerTransparent?styles.absolute:null},header))):null);}var styles=StyleSheet.create({container:{flex:1,flexDirection:'column-reverse'},content:{flex:1},absolute:{position:'absolute',top:0,left:0,right:0}});","map":{"version":3,"sources":["Screen.tsx"],"names":["NavigationContext","NavigationRouteContext","React","useSafeAreaFrame","useSafeAreaInsets","Background","getDefaultHeaderHeight","HeaderHeightContext","HeaderShownContext","Screen","props","dimensions","insets","isParentHeaderShown","useContext","parentHeaderHeight","focused","modal","header","headerShown","headerTransparent","headerStatusBarHeight","top","navigation","route","children","style","headerHeight","setHeaderHeight","useState","styles","container","content","e","height","nativeEvent","layout","absolute","StyleSheet","create","flex","flexDirection","position","left","right"],"mappings":"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","sourceRoot":"../../src","sourcesContent":["import { NavigationContext, NavigationRouteContext } from '@react-navigation/native';\nimport * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { useSafeAreaFrame, useSafeAreaInsets } from 'react-native-safe-area-context';\nimport Background from './Background';\nimport getDefaultHeaderHeight from './Header/getDefaultHeaderHeight';\nimport HeaderHeightContext from './Header/HeaderHeightContext';\nimport HeaderShownContext from './Header/HeaderShownContext';\nexport default function Screen(props) {\n  const dimensions = useSafeAreaFrame();\n  const insets = useSafeAreaInsets();\n  const isParentHeaderShown = React.useContext(HeaderShownContext);\n  const parentHeaderHeight = React.useContext(HeaderHeightContext);\n  const {\n    focused,\n    modal = false,\n    header,\n    headerShown = true,\n    headerTransparent,\n    headerStatusBarHeight = isParentHeaderShown ? 0 : insets.top,\n    navigation,\n    route,\n    children,\n    style\n  } = props;\n  const [headerHeight, setHeaderHeight] = React.useState(() => getDefaultHeaderHeight(dimensions, modal, headerStatusBarHeight));\n  return /*#__PURE__*/React.createElement(Background, {\n    accessibilityElementsHidden: !focused,\n    importantForAccessibility: focused ? 'auto' : 'no-hide-descendants',\n    style: [styles.container, style]\n  }, /*#__PURE__*/React.createElement(View, {\n    style: styles.content\n  }, /*#__PURE__*/React.createElement(HeaderShownContext.Provider, {\n    value: isParentHeaderShown || headerShown !== false\n  }, /*#__PURE__*/React.createElement(HeaderHeightContext.Provider, {\n    value: headerShown ? headerHeight : parentHeaderHeight ?? 0\n  }, children))), headerShown ? /*#__PURE__*/React.createElement(NavigationContext.Provider, {\n    value: navigation\n  }, /*#__PURE__*/React.createElement(NavigationRouteContext.Provider, {\n    value: route\n  }, /*#__PURE__*/React.createElement(View, {\n    onLayout: e => {\n      const {\n        height\n      } = e.nativeEvent.layout;\n      setHeaderHeight(height);\n    },\n    style: headerTransparent ? styles.absolute : null\n  }, header))) : null);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column-reverse'\n  },\n  // This is necessary to avoid applying 'column-reverse' to screen content\n  content: {\n    flex: 1\n  },\n  absolute: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0\n  }\n});\n//# sourceMappingURL=Screen.js.map"]},"metadata":{},"sourceType":"module"}