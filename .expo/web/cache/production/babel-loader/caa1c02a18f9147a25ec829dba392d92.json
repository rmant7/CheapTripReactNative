{"ast":null,"code":"import _defineProperty2 from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty2(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return typeof key===\"symbol\"?key:String(key);}function _toPrimitive(input,hint){if(typeof input!==\"object\"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||\"default\");if(typeof res!==\"object\")return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(hint===\"string\"?String:Number)(input);}import{Background,getDefaultHeaderHeight,SafeAreaProviderCompat}from'@react-navigation/elements';import Color from'color';import*as React from'react';import Animated from\"react-native-web/dist/exports/Animated\";import Platform from\"react-native-web/dist/exports/Platform\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{forModalPresentationIOS,forNoAnimation as forNoAnimationCard}from\"../../TransitionConfigs/CardStyleInterpolators\";import{DefaultTransition,ModalFadeTransition,ModalTransition}from\"../../TransitionConfigs/TransitionPresets\";import getDistanceForDirection from\"../../utils/getDistanceForDirection\";import{MaybeScreen,MaybeScreenContainer}from\"../Screens\";import{getIsModalPresentation}from\"./Card\";import CardContainer from\"./CardContainer\";var EPSILON=1e-5;var STATE_INACTIVE=0;var STATE_TRANSITIONING_OR_BELOW_TOP=1;var STATE_ON_TOP=2;var FALLBACK_DESCRIPTOR=Object.freeze({options:{}});var getInterpolationIndex=function getInterpolationIndex(scenes,index){var cardStyleInterpolator=scenes[index].descriptor.options.cardStyleInterpolator;var interpolationIndex=0;for(var i=index-1;i>=0;i--){var _scenes$i;var cardStyleInterpolatorCurrent=(_scenes$i=scenes[i])===null||_scenes$i===void 0?void 0:_scenes$i.descriptor.options.cardStyleInterpolator;if(cardStyleInterpolatorCurrent!==cardStyleInterpolator){break;}interpolationIndex++;}return interpolationIndex;};var getIsModal=function getIsModal(scene,interpolationIndex,isParentModal){if(isParentModal){return true;}var cardStyleInterpolator=scene.descriptor.options.cardStyleInterpolator;var isModalPresentation=getIsModalPresentation(cardStyleInterpolator);var isModal=isModalPresentation&&interpolationIndex!==0;return isModal;};var getHeaderHeights=function getHeaderHeights(scenes,insets,isParentHeaderShown,isParentModal,layout,previous){return scenes.reduce(function(acc,curr,index){var _curr$descriptor$opti=curr.descriptor.options,_curr$descriptor$opti2=_curr$descriptor$opti.headerStatusBarHeight,headerStatusBarHeight=_curr$descriptor$opti2===void 0?isParentHeaderShown?0:insets.top:_curr$descriptor$opti2,headerStyle=_curr$descriptor$opti.headerStyle;var style=StyleSheet.flatten(headerStyle||{});var height='height'in style&&typeof style.height==='number'?style.height:previous[curr.route.key];var interpolationIndex=getInterpolationIndex(scenes,index);var isModal=getIsModal(curr,interpolationIndex,isParentModal);acc[curr.route.key]=typeof height==='number'?height:getDefaultHeaderHeight(layout,isModal,headerStatusBarHeight);return acc;},{});};var getDistanceFromOptions=function getDistanceFromOptions(layout,descriptor){var _ref4=(descriptor===null||descriptor===void 0?void 0:descriptor.options)||{},presentation=_ref4.presentation,_ref4$gestureDirectio=_ref4.gestureDirection,gestureDirection=_ref4$gestureDirectio===void 0?presentation==='modal'?ModalTransition.gestureDirection:DefaultTransition.gestureDirection:_ref4$gestureDirectio;return getDistanceForDirection(layout,gestureDirection);};var getProgressFromGesture=function getProgressFromGesture(gesture,layout,descriptor){var distance=getDistanceFromOptions({width:Math.max(1,layout.width),height:Math.max(1,layout.height)},descriptor);if(distance>0){return gesture.interpolate({inputRange:[0,distance],outputRange:[1,0]});}return gesture.interpolate({inputRange:[distance,0],outputRange:[0,1]});};var CardStack=function(_React$Component){_inherits(CardStack,_React$Component);var _super=_createSuper(CardStack);function CardStack(_props){var _this;_classCallCheck(this,CardStack);_this=_super.call(this,_props);_defineProperty(_assertThisInitialized(_this),\"handleLayout\",function(e){var _e$nativeEvent$layout=e.nativeEvent.layout,height=_e$nativeEvent$layout.height,width=_e$nativeEvent$layout.width;var layout={width:width,height:height};_this.setState(function(state,props){if(height===state.layout.height&&width===state.layout.width){return null;}return{layout:layout,headerHeights:getHeaderHeights(state.scenes,props.insets,props.isParentHeaderShown,props.isParentModal,layout,state.headerHeights)};});});_defineProperty(_assertThisInitialized(_this),\"handleHeaderLayout\",function(_ref){var route=_ref.route,height=_ref.height;_this.setState(function(_ref2){var headerHeights=_ref2.headerHeights;var previousHeight=headerHeights[route.key];if(previousHeight===height){return null;}return{headerHeights:_objectSpread(_objectSpread({},headerHeights),{},_defineProperty2({},route.key,height))};});});_defineProperty(_assertThisInitialized(_this),\"getFocusedRoute\",function(){var state=_this.props.state;return state.routes[state.index];});_defineProperty(_assertThisInitialized(_this),\"getPreviousScene\",function(_ref3){var route=_ref3.route;var getPreviousRoute=_this.props.getPreviousRoute;var scenes=_this.state.scenes;var previousRoute=getPreviousRoute({route:route});if(previousRoute){var previousScene=scenes.find(function(scene){return scene.descriptor.route.key===previousRoute.key;});return previousScene;}return undefined;});_this.state={routes:[],scenes:[],gestures:{},layout:SafeAreaProviderCompat.initialMetrics.frame,descriptors:_this.props.descriptors,headerHeights:{}};return _this;}_createClass(CardStack,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,insets=_this$props.insets,state=_this$props.state,routes=_this$props.routes,closingRouteKeys=_this$props.closingRouteKeys,onOpenRoute=_this$props.onOpenRoute,onCloseRoute=_this$props.onCloseRoute,renderHeader=_this$props.renderHeader,renderScene=_this$props.renderScene,isParentHeaderShown=_this$props.isParentHeaderShown,isParentModal=_this$props.isParentModal,onTransitionStart=_this$props.onTransitionStart,onTransitionEnd=_this$props.onTransitionEnd,onGestureStart=_this$props.onGestureStart,onGestureEnd=_this$props.onGestureEnd,onGestureCancel=_this$props.onGestureCancel,_this$props$detachIna=_this$props.detachInactiveScreens,detachInactiveScreens=_this$props$detachIna===void 0?Platform.OS==='web'||Platform.OS==='android'||Platform.OS==='ios':_this$props$detachIna;var _this$state=this.state,scenes=_this$state.scenes,layout=_this$state.layout,gestures=_this$state.gestures,headerHeights=_this$state.headerHeights;var focusedRoute=state.routes[state.index];var focusedHeaderHeight=headerHeights[focusedRoute.key];var isFloatHeaderAbsolute=this.state.scenes.slice(-2).some(function(scene){var _scene$descriptor$opt;var options=(_scene$descriptor$opt=scene.descriptor.options)!=null?_scene$descriptor$opt:{};var headerMode=options.headerMode,headerTransparent=options.headerTransparent,_options$headerShown=options.headerShown,headerShown=_options$headerShown===void 0?true:_options$headerShown;if(headerTransparent||headerShown===false||headerMode==='screen'){return true;}return false;});var activeScreensLimit=1;for(var i=scenes.length-1;i>=0;i--){var options=scenes[i].descriptor.options;var _options$detachPrevio=options.detachPreviousScreen,detachPreviousScreen=_options$detachPrevio===void 0?options.presentation==='transparentModal'?false:getIsModalPresentation(options.cardStyleInterpolator)?i!==scenes.map(function(scene){return scene.descriptor.options.cardStyleInterpolator;}).lastIndexOf(forModalPresentationIOS):true:_options$detachPrevio;if(detachPreviousScreen===false){activeScreensLimit++;}else{if(i<=scenes.length-2){break;}}}var floatingHeader=React.createElement(React.Fragment,{key:\"header\"},renderHeader({mode:'float',layout:layout,scenes:scenes,getPreviousScene:this.getPreviousScene,getFocusedRoute:this.getFocusedRoute,onContentHeightChange:this.handleHeaderLayout,style:[styles.floating,isFloatHeaderAbsolute&&[{height:focusedHeaderHeight},styles.absolute]]}));return React.createElement(Background,null,isFloatHeaderAbsolute?null:floatingHeader,React.createElement(MaybeScreenContainer,{enabled:detachInactiveScreens,style:styles.container,onLayout:this.handleLayout},routes.map(function(route,index,self){var _scenes,_scenes2;var focused=focusedRoute.key===route.key;var gesture=gestures[route.key];var scene=scenes[index];var isScreenActive=1;if(index<self.length-activeScreensLimit-1){isScreenActive=STATE_INACTIVE;}else{var sceneForActivity=scenes[self.length-1];var outputValue=index===self.length-1?STATE_ON_TOP:index>=self.length-activeScreensLimit?STATE_TRANSITIONING_OR_BELOW_TOP:STATE_INACTIVE;isScreenActive=sceneForActivity?sceneForActivity.progress.current.interpolate({inputRange:[0,1-EPSILON,1],outputRange:[1,1,outputValue],extrapolate:'clamp'}):STATE_TRANSITIONING_OR_BELOW_TOP;}var _scene$descriptor$opt2=scene.descriptor.options,_scene$descriptor$opt3=_scene$descriptor$opt2.headerShown,headerShown=_scene$descriptor$opt3===void 0?true:_scene$descriptor$opt3,headerTransparent=_scene$descriptor$opt2.headerTransparent,headerStyle=_scene$descriptor$opt2.headerStyle,headerTintColor=_scene$descriptor$opt2.headerTintColor,freezeOnBlur=_scene$descriptor$opt2.freezeOnBlur;var safeAreaInsetTop=insets.top;var safeAreaInsetRight=insets.right;var safeAreaInsetBottom=insets.bottom;var safeAreaInsetLeft=insets.left;var headerHeight=headerShown!==false?headerHeights[route.key]:0;var headerDarkContent;if(headerShown){if(typeof headerTintColor==='string'){headerDarkContent=Color(headerTintColor).isDark();}else{var flattenedHeaderStyle=StyleSheet.flatten(headerStyle);if(flattenedHeaderStyle&&'backgroundColor'in flattenedHeaderStyle&&typeof flattenedHeaderStyle.backgroundColor==='string'){headerDarkContent=!Color(flattenedHeaderStyle.backgroundColor).isDark();}}}var interpolationIndex=getInterpolationIndex(scenes,index);var isModal=getIsModal(scene,interpolationIndex,isParentModal);var isNextScreenTransparent=((_scenes=scenes[index+1])===null||_scenes===void 0?void 0:_scenes.descriptor.options.presentation)==='transparentModal';var detachCurrentScreen=((_scenes2=scenes[index+1])===null||_scenes2===void 0?void 0:_scenes2.descriptor.options.detachPreviousScreen)!==false;return React.createElement(MaybeScreen,{key:route.key,style:StyleSheet.absoluteFill,enabled:detachInactiveScreens,active:isScreenActive,freezeOnBlur:freezeOnBlur,pointerEvents:\"box-none\"},React.createElement(CardContainer,{index:index,interpolationIndex:interpolationIndex,modal:isModal,active:index===self.length-1,focused:focused,closing:closingRouteKeys.includes(route.key),layout:layout,gesture:gesture,scene:scene,safeAreaInsetTop:safeAreaInsetTop,safeAreaInsetRight:safeAreaInsetRight,safeAreaInsetBottom:safeAreaInsetBottom,safeAreaInsetLeft:safeAreaInsetLeft,onGestureStart:onGestureStart,onGestureCancel:onGestureCancel,onGestureEnd:onGestureEnd,headerHeight:headerHeight,isParentHeaderShown:isParentHeaderShown,onHeaderHeightChange:_this2.handleHeaderLayout,getPreviousScene:_this2.getPreviousScene,getFocusedRoute:_this2.getFocusedRoute,headerDarkContent:headerDarkContent,hasAbsoluteFloatHeader:isFloatHeaderAbsolute&&!headerTransparent,renderHeader:renderHeader,renderScene:renderScene,onOpenRoute:onOpenRoute,onCloseRoute:onCloseRoute,onTransitionStart:onTransitionStart,onTransitionEnd:onTransitionEnd,isNextScreenTransparent:isNextScreenTransparent,detachCurrentScreen:detachCurrentScreen}));})),isFloatHeaderAbsolute?floatingHeader:null);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.routes===state.routes&&props.descriptors===state.descriptors){return null;}var gestures=props.routes.reduce(function(acc,curr){var descriptor=props.descriptors[curr.key];var _ref5=(descriptor===null||descriptor===void 0?void 0:descriptor.options)||{},animationEnabled=_ref5.animationEnabled;acc[curr.key]=state.gestures[curr.key]||new Animated.Value(props.openingRouteKeys.includes(curr.key)&&animationEnabled!==false?getDistanceFromOptions(state.layout,descriptor):0);return acc;},{});var scenes=props.routes.map(function(route,index,self){var _descriptor$options$h;var previousRoute=self[index-1];var nextRoute=self[index+1];var oldScene=state.scenes[index];var currentGesture=gestures[route.key];var previousGesture=previousRoute?gestures[previousRoute.key]:undefined;var nextGesture=nextRoute?gestures[nextRoute.key]:undefined;var descriptor=props.descriptors[route.key]||state.descriptors[route.key]||(oldScene?oldScene.descriptor:FALLBACK_DESCRIPTOR);var nextDescriptor=props.descriptors[nextRoute===null||nextRoute===void 0?void 0:nextRoute.key]||state.descriptors[nextRoute===null||nextRoute===void 0?void 0:nextRoute.key];var previousDescriptor=props.descriptors[previousRoute===null||previousRoute===void 0?void 0:previousRoute.key]||state.descriptors[previousRoute===null||previousRoute===void 0?void 0:previousRoute.key];var optionsForTransitionConfig=index!==self.length-1&&nextDescriptor&&nextDescriptor.options.presentation!=='transparentModal'?nextDescriptor.options:descriptor.options;var defaultTransitionPreset=optionsForTransitionConfig.presentation==='modal'?ModalTransition:optionsForTransitionConfig.presentation==='transparentModal'?ModalFadeTransition:DefaultTransition;var _optionsForTransition=optionsForTransitionConfig.animationEnabled,animationEnabled=_optionsForTransition===void 0?Platform.OS!=='web'&&Platform.OS!=='windows'&&Platform.OS!=='macos':_optionsForTransition,_optionsForTransition2=optionsForTransitionConfig.gestureEnabled,gestureEnabled=_optionsForTransition2===void 0?Platform.OS==='ios'&&animationEnabled:_optionsForTransition2,_optionsForTransition3=optionsForTransitionConfig.gestureDirection,gestureDirection=_optionsForTransition3===void 0?defaultTransitionPreset.gestureDirection:_optionsForTransition3,_optionsForTransition4=optionsForTransitionConfig.transitionSpec,transitionSpec=_optionsForTransition4===void 0?defaultTransitionPreset.transitionSpec:_optionsForTransition4,_optionsForTransition5=optionsForTransitionConfig.cardStyleInterpolator,cardStyleInterpolator=_optionsForTransition5===void 0?animationEnabled===false?forNoAnimationCard:defaultTransitionPreset.cardStyleInterpolator:_optionsForTransition5,_optionsForTransition6=optionsForTransitionConfig.headerStyleInterpolator,headerStyleInterpolator=_optionsForTransition6===void 0?defaultTransitionPreset.headerStyleInterpolator:_optionsForTransition6,_optionsForTransition7=optionsForTransitionConfig.cardOverlayEnabled,cardOverlayEnabled=_optionsForTransition7===void 0?Platform.OS!=='ios'&&optionsForTransitionConfig.presentation!=='transparentModal'||getIsModalPresentation(cardStyleInterpolator):_optionsForTransition7;var headerMode=(_descriptor$options$h=descriptor.options.headerMode)!=null?_descriptor$options$h:!(optionsForTransitionConfig.presentation==='modal'||optionsForTransitionConfig.presentation==='transparentModal'||(nextDescriptor===null||nextDescriptor===void 0?void 0:nextDescriptor.options.presentation)==='modal'||(nextDescriptor===null||nextDescriptor===void 0?void 0:nextDescriptor.options.presentation)==='transparentModal'||getIsModalPresentation(cardStyleInterpolator))&&Platform.OS==='ios'&&descriptor.options.header===undefined?'float':'screen';var scene={route:route,descriptor:_objectSpread(_objectSpread({},descriptor),{},{options:_objectSpread(_objectSpread({},descriptor.options),{},{animationEnabled:animationEnabled,cardOverlayEnabled:cardOverlayEnabled,cardStyleInterpolator:cardStyleInterpolator,gestureDirection:gestureDirection,gestureEnabled:gestureEnabled,headerStyleInterpolator:headerStyleInterpolator,transitionSpec:transitionSpec,headerMode:headerMode})}),progress:{current:getProgressFromGesture(currentGesture,state.layout,descriptor),next:nextGesture&&(nextDescriptor===null||nextDescriptor===void 0?void 0:nextDescriptor.options.presentation)!=='transparentModal'?getProgressFromGesture(nextGesture,state.layout,nextDescriptor):undefined,previous:previousGesture?getProgressFromGesture(previousGesture,state.layout,previousDescriptor):undefined},__memo:[state.layout,descriptor,nextDescriptor,previousDescriptor,currentGesture,nextGesture,previousGesture]};if(oldScene&&scene.__memo.every(function(it,i){return oldScene.__memo[i]===it;})){return oldScene;}return scene;});return{routes:props.routes,scenes:scenes,gestures:gestures,descriptors:props.descriptors,headerHeights:getHeaderHeights(scenes,props.insets,props.isParentHeaderShown,props.isParentModal,state.layout,state.headerHeights)};}}]);return CardStack;}(React.Component);export{CardStack as default};var styles=StyleSheet.create({container:{flex:1},absolute:{position:'absolute',top:0,left:0,right:0},floating:{zIndex:1}});","map":{"version":3,"mappings":"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","names":["Background","getDefaultHeaderHeight","SafeAreaProviderCompat","Color","React","forModalPresentationIOS","forNoAnimation","forNoAnimationCard","DefaultTransition","ModalFadeTransition","ModalTransition","getDistanceForDirection","MaybeScreen","MaybeScreenContainer","getIsModalPresentation","CardContainer","EPSILON","STATE_INACTIVE","STATE_TRANSITIONING_OR_BELOW_TOP","STATE_ON_TOP","FALLBACK_DESCRIPTOR","Object","freeze","options","getInterpolationIndex","scenes","index","cardStyleInterpolator","descriptor","interpolationIndex","i","cardStyleInterpolatorCurrent","_scenes$i","getIsModal","scene","isParentModal","isModalPresentation","isModal","getHeaderHeights","insets","isParentHeaderShown","layout","previous","reduce","acc","curr","headerStatusBarHeight","top","headerStyle","style","StyleSheet","flatten","height","route","key","getDistanceFromOptions","presentation","gestureDirection","getProgressFromGesture","gesture","distance","width","Math","max","interpolate","inputRange","outputRange","CardStack","constructor","props","_defineProperty","e","nativeEvent","setState","state","headerHeights","_ref","_ref2","previousHeight","routes","_ref3","getPreviousRoute","previousRoute","previousScene","find","undefined","gestures","initialMetrics","frame","descriptors","render","closingRouteKeys","onOpenRoute","onCloseRoute","renderHeader","renderScene","onTransitionStart","onTransitionEnd","onGestureStart","onGestureEnd","onGestureCancel","detachInactiveScreens","Platform","OS","focusedRoute","focusedHeaderHeight","isFloatHeaderAbsolute","slice","some","headerMode","headerTransparent","headerShown","activeScreensLimit","length","detachPreviousScreen","map","lastIndexOf","floatingHeader","Fragment","mode","getPreviousScene","getFocusedRoute","onContentHeightChange","handleHeaderLayout","styles","floating","absolute","enabled","container","onLayout","handleLayout","self","focused","isScreenActive","sceneForActivity","outputValue","progress","current","extrapolate","headerTintColor","freezeOnBlur","safeAreaInsetTop","safeAreaInsetRight","right","safeAreaInsetBottom","bottom","safeAreaInsetLeft","left","headerHeight","headerDarkContent","isDark","flattenedHeaderStyle","backgroundColor","isNextScreenTransparent","_scenes","detachCurrentScreen","_scenes2","absoluteFill","active","pointerEvents","modal","closing","includes","onHeaderHeightChange","hasAbsoluteFloatHeader","animationEnabled","Animated","Value","openingRouteKeys","nextRoute","oldScene","currentGesture","previousGesture","nextGesture","nextDescriptor","previousDescriptor","optionsForTransitionConfig","defaultTransitionPreset","gestureEnabled","transitionSpec","headerStyleInterpolator","cardOverlayEnabled","header","next","__memo","every","it","Component","create","flex","position","zIndex"],"sourceRoot":"../../src","sources":["CardStack.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}