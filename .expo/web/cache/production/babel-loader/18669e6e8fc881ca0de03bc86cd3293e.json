{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";var _excluded=[\"progress\",\"layout\",\"modal\",\"onGoBack\",\"headerTitle\",\"headerLeft\",\"headerRight\",\"headerBackImage\",\"headerBackTitle\",\"headerBackTitleVisible\",\"headerTruncatedBackTitle\",\"headerBackAccessibilityLabel\",\"headerBackTestID\",\"headerBackAllowFontScaling\",\"headerBackTitleStyle\",\"headerTitleContainerStyle\",\"headerLeftContainerStyle\",\"headerRightContainerStyle\",\"headerBackgroundContainerStyle\",\"headerStyle\",\"headerStatusBarHeight\",\"styleInterpolator\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import{getDefaultHeaderHeight,Header,HeaderBackButton,HeaderTitle}from'@react-navigation/elements';import*as React from'react';import Platform from\"react-native-web/dist/exports/Platform\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import memoize from\"../../utils/memoize\";export default function HeaderSegment(props){var _React$useState=React.useState(undefined),_React$useState2=_slicedToArray(_React$useState,2),leftLabelLayout=_React$useState2[0],setLeftLabelLayout=_React$useState2[1];var _React$useState3=React.useState(undefined),_React$useState4=_slicedToArray(_React$useState3,2),titleLayout=_React$useState4[0],setTitleLayout=_React$useState4[1];var handleTitleLayout=function handleTitleLayout(e){var _e$nativeEvent$layout=e.nativeEvent.layout,height=_e$nativeEvent$layout.height,width=_e$nativeEvent$layout.width;setTitleLayout(function(titleLayout){if(titleLayout&&height===titleLayout.height&&width===titleLayout.width){return titleLayout;}return{height:height,width:width};});};var handleLeftLabelLayout=function handleLeftLabelLayout(e){var _e$nativeEvent$layout2=e.nativeEvent.layout,height=_e$nativeEvent$layout2.height,width=_e$nativeEvent$layout2.width;if(leftLabelLayout&&height===leftLabelLayout.height&&width===leftLabelLayout.width){return;}setLeftLabelLayout({height:height,width:width});};var getInterpolatedStyle=memoize(function(styleInterpolator,layout,current,next,titleLayout,leftLabelLayout,headerHeight){return styleInterpolator({current:{progress:current},next:next&&{progress:next},layouts:{header:{height:headerHeight,width:layout.width},screen:layout,title:titleLayout,leftLabel:leftLabelLayout}});});var progress=props.progress,layout=props.layout,modal=props.modal,onGoBack=props.onGoBack,title=props.headerTitle,_props$headerLeft=props.headerLeft,left=_props$headerLeft===void 0?onGoBack?function(props){return React.createElement(HeaderBackButton,props);}:undefined:_props$headerLeft,right=props.headerRight,headerBackImage=props.headerBackImage,headerBackTitle=props.headerBackTitle,_props$headerBackTitl=props.headerBackTitleVisible,headerBackTitleVisible=_props$headerBackTitl===void 0?Platform.OS==='ios':_props$headerBackTitl,headerTruncatedBackTitle=props.headerTruncatedBackTitle,headerBackAccessibilityLabel=props.headerBackAccessibilityLabel,headerBackTestID=props.headerBackTestID,headerBackAllowFontScaling=props.headerBackAllowFontScaling,headerBackTitleStyle=props.headerBackTitleStyle,headerTitleContainerStyle=props.headerTitleContainerStyle,headerLeftContainerStyle=props.headerLeftContainerStyle,headerRightContainerStyle=props.headerRightContainerStyle,headerBackgroundContainerStyle=props.headerBackgroundContainerStyle,customHeaderStyle=props.headerStyle,headerStatusBarHeight=props.headerStatusBarHeight,styleInterpolator=props.styleInterpolator,rest=_objectWithoutProperties(props,_excluded);var defaultHeight=getDefaultHeaderHeight(layout,modal,headerStatusBarHeight);var _StyleSheet$flatten=StyleSheet.flatten(customHeaderStyle||{}),_StyleSheet$flatten$h=_StyleSheet$flatten.height,height=_StyleSheet$flatten$h===void 0?defaultHeight:_StyleSheet$flatten$h;var _getInterpolatedStyle=getInterpolatedStyle(styleInterpolator,layout,progress.current,progress.next,titleLayout,headerBackTitle?leftLabelLayout:undefined,typeof height==='number'?height:defaultHeight),titleStyle=_getInterpolatedStyle.titleStyle,leftButtonStyle=_getInterpolatedStyle.leftButtonStyle,leftLabelStyle=_getInterpolatedStyle.leftLabelStyle,rightButtonStyle=_getInterpolatedStyle.rightButtonStyle,backgroundStyle=_getInterpolatedStyle.backgroundStyle;var headerLeft=left?function(props){return left(_objectSpread(_objectSpread({},props),{},{backImage:headerBackImage,accessibilityLabel:headerBackAccessibilityLabel,testID:headerBackTestID,allowFontScaling:headerBackAllowFontScaling,onPress:onGoBack,label:headerBackTitle,truncatedLabel:headerTruncatedBackTitle,labelStyle:[leftLabelStyle,headerBackTitleStyle],onLabelLayout:handleLeftLabelLayout,screenLayout:layout,titleLayout:titleLayout,canGoBack:Boolean(onGoBack)}));}:undefined;var headerRight=right?function(props){return right(_objectSpread(_objectSpread({},props),{},{canGoBack:Boolean(onGoBack)}));}:undefined;var headerTitle=typeof title!=='function'?function(props){return React.createElement(HeaderTitle,_extends({},props,{onLayout:handleTitleLayout}));}:function(props){return title(_objectSpread(_objectSpread({},props),{},{onLayout:handleTitleLayout}));};return React.createElement(Header,_extends({modal:modal,layout:layout,headerTitle:headerTitle,headerLeft:headerLeft,headerLeftLabelVisible:headerBackTitleVisible,headerRight:headerRight,headerTitleContainerStyle:[titleStyle,headerTitleContainerStyle],headerLeftContainerStyle:[leftButtonStyle,headerLeftContainerStyle],headerRightContainerStyle:[rightButtonStyle,headerRightContainerStyle],headerBackgroundContainerStyle:[backgroundStyle,headerBackgroundContainerStyle],headerStyle:customHeaderStyle,headerStatusBarHeight:headerStatusBarHeight},rest));}","map":{"version":3,"sources":["HeaderSegment.tsx"],"names":["getDefaultHeaderHeight","Header","HeaderBackButton","HeaderTitle","React","memoize","HeaderSegment","props","leftLabelLayout","setLeftLabelLayout","useState","undefined","titleLayout","setTitleLayout","handleTitleLayout","e","height","width","nativeEvent","layout","handleLeftLabelLayout","getInterpolatedStyle","styleInterpolator","current","next","headerHeight","progress","layouts","header","screen","title","leftLabel","modal","onGoBack","headerTitle","headerLeft","left","headerRight","right","headerBackImage","headerBackTitle","headerBackTitleVisible","Platform","OS","headerTruncatedBackTitle","headerBackAccessibilityLabel","headerBackTestID","headerBackAllowFontScaling","headerBackTitleStyle","headerTitleContainerStyle","headerLeftContainerStyle","headerRightContainerStyle","headerBackgroundContainerStyle","headerStyle","customHeaderStyle","headerStatusBarHeight","rest","defaultHeight","StyleSheet","flatten","titleStyle","leftButtonStyle","leftLabelStyle","rightButtonStyle","backgroundStyle","backImage","accessibilityLabel","testID","allowFontScaling","onPress","label","truncatedLabel","labelStyle","onLabelLayout","screenLayout","canGoBack","Boolean","onLayout"],"mappings":"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","sourceRoot":"../../src","sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { getDefaultHeaderHeight, Header, HeaderBackButton, HeaderTitle } from '@react-navigation/elements';\nimport * as React from 'react';\nimport { Platform, StyleSheet } from 'react-native';\nimport memoize from '../../utils/memoize';\nexport default function HeaderSegment(props) {\n  const [leftLabelLayout, setLeftLabelLayout] = React.useState(undefined);\n  const [titleLayout, setTitleLayout] = React.useState(undefined);\n  const handleTitleLayout = e => {\n    const {\n      height,\n      width\n    } = e.nativeEvent.layout;\n    setTitleLayout(titleLayout => {\n      if (titleLayout && height === titleLayout.height && width === titleLayout.width) {\n        return titleLayout;\n      }\n      return {\n        height,\n        width\n      };\n    });\n  };\n  const handleLeftLabelLayout = e => {\n    const {\n      height,\n      width\n    } = e.nativeEvent.layout;\n    if (leftLabelLayout && height === leftLabelLayout.height && width === leftLabelLayout.width) {\n      return;\n    }\n    setLeftLabelLayout({\n      height,\n      width\n    });\n  };\n  const getInterpolatedStyle = memoize((styleInterpolator, layout, current, next, titleLayout, leftLabelLayout, headerHeight) => styleInterpolator({\n    current: {\n      progress: current\n    },\n    next: next && {\n      progress: next\n    },\n    layouts: {\n      header: {\n        height: headerHeight,\n        width: layout.width\n      },\n      screen: layout,\n      title: titleLayout,\n      leftLabel: leftLabelLayout\n    }\n  }));\n  const {\n    progress,\n    layout,\n    modal,\n    onGoBack,\n    headerTitle: title,\n    headerLeft: left = onGoBack ? props => /*#__PURE__*/React.createElement(HeaderBackButton, props) : undefined,\n    headerRight: right,\n    headerBackImage,\n    headerBackTitle,\n    headerBackTitleVisible = Platform.OS === 'ios',\n    headerTruncatedBackTitle,\n    headerBackAccessibilityLabel,\n    headerBackTestID,\n    headerBackAllowFontScaling,\n    headerBackTitleStyle,\n    headerTitleContainerStyle,\n    headerLeftContainerStyle,\n    headerRightContainerStyle,\n    headerBackgroundContainerStyle,\n    headerStyle: customHeaderStyle,\n    headerStatusBarHeight,\n    styleInterpolator,\n    ...rest\n  } = props;\n  const defaultHeight = getDefaultHeaderHeight(layout, modal, headerStatusBarHeight);\n  const {\n    height = defaultHeight\n  } = StyleSheet.flatten(customHeaderStyle || {});\n  const {\n    titleStyle,\n    leftButtonStyle,\n    leftLabelStyle,\n    rightButtonStyle,\n    backgroundStyle\n  } = getInterpolatedStyle(styleInterpolator, layout, progress.current, progress.next, titleLayout, headerBackTitle ? leftLabelLayout : undefined, typeof height === 'number' ? height : defaultHeight);\n  const headerLeft = left ? props => left({\n    ...props,\n    backImage: headerBackImage,\n    accessibilityLabel: headerBackAccessibilityLabel,\n    testID: headerBackTestID,\n    allowFontScaling: headerBackAllowFontScaling,\n    onPress: onGoBack,\n    label: headerBackTitle,\n    truncatedLabel: headerTruncatedBackTitle,\n    labelStyle: [leftLabelStyle, headerBackTitleStyle],\n    onLabelLayout: handleLeftLabelLayout,\n    screenLayout: layout,\n    titleLayout,\n    canGoBack: Boolean(onGoBack)\n  }) : undefined;\n  const headerRight = right ? props => right({\n    ...props,\n    canGoBack: Boolean(onGoBack)\n  }) : undefined;\n  const headerTitle = typeof title !== 'function' ? props => /*#__PURE__*/React.createElement(HeaderTitle, _extends({}, props, {\n    onLayout: handleTitleLayout\n  })) : props => title({\n    ...props,\n    onLayout: handleTitleLayout\n  });\n  return /*#__PURE__*/React.createElement(Header, _extends({\n    modal: modal,\n    layout: layout,\n    headerTitle: headerTitle,\n    headerLeft: headerLeft,\n    headerLeftLabelVisible: headerBackTitleVisible,\n    headerRight: headerRight,\n    headerTitleContainerStyle: [titleStyle, headerTitleContainerStyle],\n    headerLeftContainerStyle: [leftButtonStyle, headerLeftContainerStyle],\n    headerRightContainerStyle: [rightButtonStyle, headerRightContainerStyle],\n    headerBackgroundContainerStyle: [backgroundStyle, headerBackgroundContainerStyle],\n    headerStyle: customHeaderStyle,\n    headerStatusBarHeight: headerStatusBarHeight\n  }, rest));\n}\n//# sourceMappingURL=HeaderSegment.js.map"]},"metadata":{},"sourceType":"module"}