{"ast":null,"code":"import*as React from'react';var MULTIPLE_NAVIGATOR_ERROR=\"Another navigator is already registered for this container. You likely have multiple navigators under a single \\\"NavigationContainer\\\" or \\\"Screen\\\". Make sure each navigator is under a separate \\\"Screen\\\" container. See https://reactnavigation.org/docs/nesting-navigators for a guide on nesting.\";export var SingleNavigatorContext=React.createContext(undefined);export default function EnsureSingleNavigator(_ref){var children=_ref.children;var navigatorKeyRef=React.useRef();var value=React.useMemo(function(){return{register:function register(key){var currentKey=navigatorKeyRef.current;if(currentKey!==undefined&&key!==currentKey){throw new Error(MULTIPLE_NAVIGATOR_ERROR);}navigatorKeyRef.current=key;},unregister:function unregister(key){var currentKey=navigatorKeyRef.current;if(key!==currentKey){return;}navigatorKeyRef.current=undefined;}};},[]);return React.createElement(SingleNavigatorContext.Provider,{value:value},children);}","map":{"version":3,"sources":["EnsureSingleNavigator.tsx"],"names":["React","MULTIPLE_NAVIGATOR_ERROR","SingleNavigatorContext","createContext","undefined","EnsureSingleNavigator","children","navigatorKeyRef","useRef","value","useMemo","register","key","currentKey","current","Error","unregister"],"mappings":"AAAA,MAAO,GAAKA,MAAK,KAAM,OAAO,CAM9B,GAAMC,yBAAwB,2SAAuS,CAErU,MAAO,IAAMC,uBAAsB,CAAGF,KAAK,CAACG,aAAa,CAMvDC,SAAS,CAAC,CAKZ,cAAe,SAASC,sBAAqB,CAAA,IAAA,CAAsB,CAArB,GAAEC,SAAAA,CAAiB,IAAA,CAAjBA,QAAAA,CAC9C,GAAMC,gBAAe,CAAGP,KAAK,CAACQ,MAAM,EAAsB,CAE1D,GAAMC,MAAK,CAAGT,KAAK,CAACU,OAAO,CACzB,iBAAO,CACLC,QAAQ,mBAACC,GAAW,CAAE,CACpB,GAAMC,WAAU,CAAGN,eAAe,CAACO,OAAO,CAE1C,GAAID,UAAU,GAAKT,SAAS,EAAIQ,GAAG,GAAKC,UAAU,CAAE,CAClD,KAAM,IAAIE,MAAK,CAACd,wBAAwB,CAAC,CAC3C,CAEAM,eAAe,CAACO,OAAO,CAAGF,GAAG,CAC/B,CAAC,CACDI,UAAU,qBAACJ,GAAW,CAAE,CACtB,GAAMC,WAAU,CAAGN,eAAe,CAACO,OAAO,CAE1C,GAAIF,GAAG,GAAKC,UAAU,CAAE,CACtB,OACF,CAEAN,eAAe,CAACO,OAAO,CAAGV,SAAS,CACrC,CACF,CAAC,EAAC,CACF,EAAE,CACH,CAED,MACE,MAAA,CAAA,aAAA,CAAC,sBAAsB,CAAC,QAAQ,CAAA,CAAC,KAAK,CAAEK,KAAM,CAAA,CAC3CH,QAAQ,CACuB,CAEtC","sourceRoot":"../../src","sourcesContent":["import * as React from 'react';\nconst MULTIPLE_NAVIGATOR_ERROR = `Another navigator is already registered for this container. You likely have multiple navigators under a single \"NavigationContainer\" or \"Screen\". Make sure each navigator is under a separate \"Screen\" container. See https://reactnavigation.org/docs/nesting-navigators for a guide on nesting.`;\nexport const SingleNavigatorContext = /*#__PURE__*/React.createContext(undefined);\n\n/**\n * Component which ensures that there's only one navigator nested under it.\n */\nexport default function EnsureSingleNavigator(_ref) {\n  let {\n    children\n  } = _ref;\n  const navigatorKeyRef = React.useRef();\n  const value = React.useMemo(() => ({\n    register(key) {\n      const currentKey = navigatorKeyRef.current;\n      if (currentKey !== undefined && key !== currentKey) {\n        throw new Error(MULTIPLE_NAVIGATOR_ERROR);\n      }\n      navigatorKeyRef.current = key;\n    },\n    unregister(key) {\n      const currentKey = navigatorKeyRef.current;\n      if (key !== currentKey) {\n        return;\n      }\n      navigatorKeyRef.current = undefined;\n    }\n  }), []);\n  return /*#__PURE__*/React.createElement(SingleNavigatorContext.Provider, {\n    value: value\n  }, children);\n}\n//# sourceMappingURL=EnsureSingleNavigator.js.map"]},"metadata":{},"sourceType":"module"}